<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOID | Mod Training Suite</title>
    
    <!-- Premium Fonts -->
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@900,700,500,300,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons & Animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Three.js & Particles -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <!-- GSAP for advanced animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/TextPlugin.min.js"></script>
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <style>
        :root {
            /* Premium Color Palette */
            --void-black: #000000;
            --void-black-90: #0a0a0a;
            --void-black-80: #111111;
            --void-black-70: #1a1a1a;
            --void-black-60: #222222;
            --void-black-50: #2a2a2a;
            
            --golish-white: #ffffff;
            --golish-white-90: #f8fafc;
            --golish-white-80: #f1f5f9;
            --golish-white-70: #e2e8f0;
            --golish-white-60: #cbd5e1;
            
            --reddish-black: #1c0a0a;
            --crimson-void: #ff0033;
            --crimson-void-dark: #cc0029;
            --void-purple: #8b5cf6;
            --void-cyan: #06b6d4;
            --void-emerald: #10b981;
            --void-amber: #f59e0b;
            
            /* Discord Colors */
            --discord-bg: #36393f;
            --discord-primary: #202225;
            --discord-secondary: #2f3136;
            --discord-tertiary: #40444b;
            --discord-accent: #5865f2;
            --discord-text: #dcddde;
            --discord-text-muted: #72767d;
            --discord-green: #3ba55c;
            --discord-red: #ed4245;
            --discord-yellow: #faa81a;
            --discord-blurple: #5865f2;
            
            /* Typography */
            --font-primary: 'Satoshi', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-secondary: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', 'SF Mono', Monaco, Consolas, monospace;
            --font-display: 'Satoshi', sans-serif;
            
            /* Animation Speeds */
            --transition-fast: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 500ms cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-primary);
            background: linear-gradient(135deg, #000000 0%, #1c0a0a 50%, #2a0a1c 100%);
            color: var(--golish-white);
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        /* ===== HEADER ===== */
        .header {
            text-align: center;
            padding: 120px 0 80px;
            position: relative;
        }
        
        .header h1 {
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 24px;
            letter-spacing: -0.03em;
            line-height: 1;
            background: linear-gradient(135deg, #ff0033 0%, #8b5cf6 50%, #06b6d4 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .header p {
            font-size: 1.25rem;
            max-width: 600px;
            margin: 0 auto;
            color: var(--golish-white-70);
            line-height: 1.7;
        }
        
        .made-by {
            position: absolute;
            bottom: 32px;
            right: 32px;
            font-size: 0.875rem;
            color: var(--golish-white-60);
            font-family: var(--font-mono);
        }
        
        /* ===== PROGRESS ===== */
        .progress-container {
            display: flex;
            align-items: center;
            justify-content: center;
            max-width: 600px;
            margin: 60px auto 0;
            gap: 24px;
        }
        
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            position: relative;
            z-index: 1;
        }
        
        .step-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--void-black-70);
            border: 1px solid var(--void-black-60);
            color: var(--golish-white-60);
            font-size: 1.125rem;
            transition: all 0.3s ease;
        }
        
        .step-icon.active {
            background: var(--golish-white);
            color: var(--void-black);
            border-color: var(--golish-white);
        }
        
        .progress-step span {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--golish-white-70);
            transition: color 0.3s ease;
        }
        
        .progress-step.active span {
            color: var(--golish-white);
        }
        
        .progress-bar {
            flex: 1;
            height: 1px;
            background: var(--void-black-60);
            position: relative;
        }
        
        .progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: var(--golish-white);
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* ===== CONTENT SECTIONS ===== */
        .content-section {
            margin-bottom: 48px;
            padding: 40px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }
        
        .section-title {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 32px;
            color: var(--golish-white);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section-title i {
            color: var(--crimson-void);
        }
        
        /* ===== TICKET TYPES ===== */
        .intro-text {
            font-size: 1.125rem;
            line-height: 1.7;
            color: var(--golish-white-80);
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border-left: 4px solid var(--crimson-void);
        }
        
        .ticket-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin: 40px 0;
        }
        
        .ticket-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .ticket-card:hover {
            transform: translateY(-4px);
            border-color: var(--crimson-void);
            box-shadow: 0 0 30px rgba(255, 0, 51, 0.3);
        }
        
        .ticket-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--golish-white);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .ticket-card p {
            color: var(--golish-white-70);
            line-height: 1.6;
        }
        
        /* ===== ROSTER CARDS ===== */
        .roster-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin: 40px 0;
        }
        
        .roster-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.3s ease;
        }
        
        .roster-card:hover {
            transform: translateY(-4px);
            border-color: var(--void-purple);
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.3);
        }
        
        .roster-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .roster-icon {
            font-size: 1.5rem;
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(139, 92, 246, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(139, 92, 246, 0.2);
        }
        
        .roster-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--golish-white);
        }
        
        .roster-requirements {
            list-style: none;
        }
        
        .roster-requirements li {
            color: var(--golish-white-70);
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
            line-height: 1.5;
        }
        
        .roster-requirements li:before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: var(--void-purple);
        }
        
        /* ===== MOD REQUIREMENTS ===== */
        .mod-requirements {
            margin: 60px 0;
        }
        
        .requirement-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }
        
        .requirement-section:hover {
            border-color: var(--void-cyan);
        }
        
        .requirement-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--golish-white);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .requirement-content {
            color: var(--golish-white-70);
            line-height: 1.6;
        }
        
        .requirement-list {
            list-style: none;
            margin: 20px 0;
        }
        
        .requirement-list li {
            color: var(--golish-white-70);
            margin-bottom: 12px;
            padding-left: 24px;
            position: relative;
        }
        
        .requirement-list li:before {
            content: '‚Ä¢';
            position: absolute;
            left: 8px;
            color: var(--void-cyan);
        }
        
        .weekly-requirements {
            color: var(--golish-white-80);
            font-weight: 600;
            margin-top: 20px;
            padding: 16px;
            background: rgba(6, 182, 212, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--void-cyan);
        }
        
        /* ===== QUIZ SECTION ===== */
        .quiz-instructions {
            background: rgba(255, 0, 51, 0.1);
            border: 1px solid rgba(255, 0, 51, 0.2);
            border-radius: 16px;
            padding: 40px;
            margin: 60px 0;
        }
        
        .quiz-instructions h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--golish-white);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .quiz-instructions p {
            color: var(--golish-white-70);
            line-height: 1.7;
            margin-bottom: 32px;
        }
        
        .training-quiz {
            margin: 60px 0;
        }
        
        .question-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 32px;
            display: none;
            animation: fadeIn 0.4s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-card.active {
            display: block;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .question-title {
            font-size: 1.375rem;
            font-weight: 700;
            color: var(--golish-white);
            line-height: 1.4;
        }
        
        .question-number {
            font-size: 0.875rem;
            color: var(--golish-white-60);
            font-family: var(--font-mono);
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }
        
        .question-description {
            color: var(--golish-white-70);
            line-height: 1.7;
            margin-bottom: 32px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border-left: 4px solid var(--void-amber);
        }
        
        .answer-box {
            width: 100%;
            min-height: 120px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--golish-white);
            font-family: var(--font-primary);
            font-size: 1rem;
            line-height: 1.6;
            resize: vertical;
            transition: all 0.3s ease;
            margin-bottom: 32px;
        }
        
        .answer-box:focus {
            outline: none;
            border-color: var(--crimson-void);
            box-shadow: 0 0 0 3px rgba(255, 0, 51, 0.1);
        }
        
        .quiz-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
        }
        
        /* ===== BUTTONS ===== */
        .btn {
            padding: 14px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-family: var(--font-primary);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff0033 0%, #cc0029 100%);
            color: var(--golish-white);
            border: none;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 0, 51, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--golish-white);
            border: 2px solid var(--void-black-60);
        }
        
        .btn-secondary:hover {
            border-color: var(--golish-white-60);
            background: rgba(255, 255, 255, 0.05);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: var(--golish-white);
            border: none;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }
        
        .btn-test {
            background: transparent;
            color: var(--golish-white);
            border: 2px solid var(--void-black-60);
        }
        
        .btn-test:hover {
            border-color: var(--void-purple);
            background: rgba(139, 92, 246, 0.1);
        }
        
        /* ===== ANSWER FEEDBACK ===== */
        .answer-feedback {
            margin-top: 32px;
            padding: 32px;
            background: rgba(6, 182, 212, 0.1);
            border: 1px solid rgba(6, 182, 212, 0.2);
            border-radius: 12px;
            display: none;
            animation: fadeIn 0.4s ease;
        }
        
        .answer-feedback.show {
            display: block;
        }
        
        .feedback-title {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--void-cyan);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .correct-answer {
            color: var(--golish-white-80);
            line-height: 1.6;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--void-cyan);
        }
        
        .correction-note {
            color: var(--golish-white-70);
            font-size: 0.9375rem;
            line-height: 1.6;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* ===== COMPLETION SCREEN ===== */
        .completion-screen {
            text-align: center;
            padding: 120px 0;
            display: none;
            animation: fadeIn 0.6s ease;
        }
        
        .completion-screen.active {
            display: block;
        }
        
        .completion-icon {
            font-size: 64px;
            color: var(--crimson-void);
            margin-bottom: 40px;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .completion-title {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 24px;
            color: var(--golish-white);
        }
        
        .completion-message {
            font-size: 1.125rem;
            max-width: 600px;
            margin: 0 auto 60px;
            color: var(--golish-white-70);
            line-height: 1.7;
        }
        
        .completion-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* ===== FOOTER ===== */
        .footer {
            text-align: center;
            padding: 60px 0 40px;
            margin-top: 80px;
            border-top: 1px solid var(--void-black-60);
            color: var(--golish-white-60);
            font-size: 0.875rem;
        }
        
        .footer p {
            margin-bottom: 12px;
        }
        
        .footer-credit {
            margin-top: 20px;
            font-size: 0.75rem;
            color: var(--golish-white-50);
            font-family: var(--font-mono);
        }
        
        /* ===== MODAL ===== */
        .username-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .username-modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--void-black-80);
            border: 1px solid var(--void-black-60);
            border-radius: 20px;
            padding: 48px;
            width: 90%;
            max-width: 500px;
            position: relative;
        }
        
        .modal-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--golish-white);
            text-align: center;
        }
        
        .modal-description {
            color: var(--golish-white-70);
            margin-bottom: 32px;
            text-align: center;
            line-height: 1.6;
            font-size: 1rem;
        }
        
        .username-input {
            width: 100%;
            padding: 16px;
            background: var(--void-black-70);
            border: 1px solid var(--void-black-60);
            border-radius: 12px;
            color: var(--golish-white);
            font-size: 1rem;
            font-family: var(--font-primary);
            transition: all 0.3s ease;
            margin-bottom: 32px;
        }
        
        .username-input:focus {
            outline: none;
            border-color: var(--crimson-void);
            box-shadow: 0 0 0 3px rgba(255, 0, 51, 0.1);
        }
        
        .modal-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
        }
        
        /* ===== DISCORD TEST PAGE (EXACT 1:1 CLONE) ===== */
        .test-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--discord-bg);
            z-index: 10000;
            font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            color: var(--discord-text);
        }
        
        /* Discord fonts */
        @font-face {
            font-family: Whitney;
            src: url(https://discord.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
            font-weight: 300;
        }
        @font-face {
            font-family: Whitney;
            src: url(https://discord.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
            font-weight: 400;
        }
        @font-face {
            font-family: Whitney;
            src: url(https://discord.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
            font-weight: 500;
        }
        @font-face {
            font-family: Whitney;
            src: url(https://discord.com/assets/be0060dafb7a0e31d2a1ca67c1f3e5c4.woff);
            font-weight: 600;
        }
        @font-face {
            font-family: Whitney;
            src: url(https://discord.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
            font-weight: 700;
        }
        
        .test-page * {
            font-family: Whitney, 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }
        
        .back-to-training {
            position: absolute;
            top: 16px;
            right: 16px;
            z-index: 10001;
            background: var(--discord-primary);
            border: 1px solid var(--discord-primary);
            color: var(--discord-text);
            padding: 8px 16px;
            border-radius: 3px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: background-color .17s ease,color .17s ease;
        }
        
        .back-to-training:hover {
            background: var(--discord-tertiary);
        }
        
        .test-container {
            display: flex;
            height: 100vh;
            width: 100%;
        }
        
        /* Server list (leftmost) */
        .server-list {
            width: 72px;
            background: var(--discord-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 0;
            gap: 8px;
            overflow-y: auto;
        }
        
        .server-item {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--discord-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: border-radius .2s, background-color .2s;
        }
        
        .server-item.active {
            background: var(--discord-accent);
            border-radius: 16px;
        }
        
        .separator {
            width: 32px;
            height: 2px;
            background: rgba(255, 255, 255, 0.06);
            margin: 4px 0;
        }
        
        /* Discord sidebar */
        .discord-sidebar {
            width: 240px;
            background-color: var(--discord-secondary);
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--discord-primary);
        }
        
        .server-header {
            height: 48px;
            display: flex;
            align-items: center;
            padding: 0 16px;
            box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            user-select: none;
        }
        
        .scrollable-channels {
            flex: 1;
            overflow-y: auto;
            padding: 0 8px;
        }
        
        .channel-category {
            margin-top: 16px;
        }
        
        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 8px;
            height: 24px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--discord-text-muted);
            cursor: pointer;
            user-select: none;
        }
        
        .category-icon {
            font-size: 10px;
            opacity: 0.6;
        }
        
        .channel-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            user-select: none;
            margin: 1px 0;
            color: var(--discord-text-muted);
            transition: background-color .1s, color .1s;
        }
        
        .channel-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--discord-text);
        }
        
        .channel-item.active {
            background: rgba(255, 255, 255, 0.1);
            color: var(--discord-text);
        }
        
        .channel-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }
        
        .channel-name {
            flex: 1;
        }
        
        .channel-unread {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
            margin-right: 8px;
        }
        
        /* User panel */
        .user-panel {
            height: 52px;
            background: var(--discord-primary);
            display: flex;
            align-items: center;
            padding: 0 8px;
            gap: 8px;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--discord-accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            color: white;
            position: relative;
        }
        
        .status-indicator {
            position: absolute;
            bottom: -1px;
            right: -1px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--discord-green);
            border: 2px solid var(--discord-primary);
        }
        
        .user-info {
            flex: 1;
            min-width: 0;
        }
        
        .username {
            font-weight: 600;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .discriminator {
            color: var(--discord-text-muted);
            font-size: 12px;
        }
        
        .user-controls {
            display: flex;
            gap: 4px;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--discord-text-muted);
            cursor: pointer;
            transition: background-color .1s, color .1s;
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--discord-text);
        }
        
        /* Discord chat area */
        .discord-chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--discord-bg);
        }
        
        /* Chat header */
        .chat-header {
            height: 48px;
            display: flex;
            align-items: center;
            padding: 0 16px;
            box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid var(--discord-primary);
            z-index: 1;
        }
        
        .channel-header {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .channel-hash {
            font-size: 24px;
            color: var(--discord-text-muted);
            font-weight: 400;
        }
        
        .channel-title {
            font-weight: 600;
            font-size: 16px;
        }
        
        .channel-topic {
            color: var(--discord-text-muted);
            font-size: 14px;
            margin-left: 8px;
        }
        
        .chat-controls {
            margin-left: auto;
            display: flex;
            gap: 8px;
        }
        
        .header-btn {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--discord-text-muted);
            cursor: pointer;
            transition: background-color .1s, color .1s;
        }
        
        .header-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--discord-text);
        }
        
        /* Messages container */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 1px;
        }
        
        /* Message groups */
        .message-group {
            margin-bottom: 20px;
        }
        
        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
            padding: 0 8px;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--discord-accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: border-radius .2s;
        }
        
        .message-author {
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
        }
        
        .message-timestamp {
            color: var(--discord-text-muted);
            font-size: 12px;
            font-weight: 400;
        }
        
        .message-content {
            margin-left: 56px;
            padding: 0 8px;
            font-size: 16px;
            line-height: 1.375;
        }
        
        /* Bot tag */
        .bot-tag {
            background: var(--discord-accent);
            color: white;
            font-size: 10px;
            font-weight: 600;
            padding: 1px 4px;
            border-radius: 3px;
            margin-left: 4px;
            vertical-align: middle;
            text-transform: uppercase;
            line-height: 16px;
        }
        
        /* Typing indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            color: var(--discord-text-muted);
            font-size: 14px;
        }
        
        .typing-dots {
            display: flex;
            gap: 4px;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--discord-text-muted);
            animation: typing 1.4s infinite ease-in-out;
        }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        /* Message input */
        .message-input-area {
            padding: 16px;
            background: var(--discord-bg);
        }
        
        .message-input-container {
            background: var(--discord-secondary);
            border-radius: 8px;
            border: 1px solid var(--discord-primary);
            overflow: hidden;
        }
        
        .message-input-wrapper {
            display: flex;
            align-items: center;
            padding: 0 16px;
            min-height: 44px;
        }
        
        .message-input {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--discord-text);
            font-size: 16px;
            font-family: Whitney, 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.375;
            resize: none;
            padding: 10px 0;
            max-height: 200px;
            min-height: 20px;
        }
        
        .message-input:focus {
            outline: none;
        }
        
        .message-input-send {
            background: var(--discord-accent);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: background-color .17s ease;
            margin-left: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .message-input-send:hover {
            background: #4752c4;
        }
        
        .message-input-send:disabled {
            background: var(--discord-text-muted);
            cursor: not-allowed;
        }
        
        /* Test info panel */
        .test-info-panel {
            width: 240px;
            background: var(--discord-secondary);
            border-left: 1px solid var(--discord-primary);
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .test-info-title {
            font-weight: 600;
            font-size: 16px;
            color: var(--discord-text);
        }
        
        .test-info-description {
            color: var(--discord-text-muted);
            font-size: 14px;
            line-height: 1.375;
        }
        
        .score-display {
            background: var(--discord-primary);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }
        
        .score-label {
            color: var(--discord-text-muted);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 8px;
        }
        
        .score-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--discord-text);
        }
        
        .score-total {
            color: var(--discord-text-muted);
            font-size: 16px;
        }
        
        .progress-bar {
            height: 4px;
            background: var(--discord-primary);
            border-radius: 2px;
            margin-top: 12px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--discord-accent);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .status-indicator-panel {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: var(--discord-primary);
            border-radius: 8px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--discord-green);
        }
        
        .status-text {
            font-size: 14px;
            font-weight: 500;
            color: var(--discord-text);
        }
        
        /* Test complete screen */
        .test-complete-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--discord-bg);
            z-index: 10001;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .test-complete-screen.active {
            display: flex;
        }
        
        .test-result-container {
            background: var(--discord-secondary);
            border-radius: 8px;
            padding: 32px;
            max-width: 500px;
            width: 100%;
            border: 1px solid var(--discord-primary);
            text-align: center;
        }
        
        .test-result-icon {
            font-size: 64px;
            margin-bottom: 24px;
        }
        
        .test-result-icon.pass {
            color: var(--discord-green);
        }
        
        .test-result-icon.fail {
            color: var(--discord-red);
        }
        
        .test-result-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--discord-text);
        }
        
        .test-result-score {
            font-size: 24px;
            color: var(--discord-text-muted);
            margin-bottom: 24px;
        }
        
        .test-result-message {
            color: var(--discord-text);
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 32px;
        }
        
        .submission-status {
            background: var(--discord-primary);
            border-radius: 8px;
            padding: 16px;
            margin: 24px 0;
            font-size: 14px;
            color: var(--discord-text);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .test-result-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }
        
        .test-result-btn {
            padding: 12px 24px;
            border-radius: 3px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            border: none;
            transition: background-color .17s ease;
        }
        
        .test-result-btn.primary {
            background: var(--discord-accent);
            color: white;
        }
        
        .test-result-btn.secondary {
            background: var(--discord-tertiary);
            color: white;
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .container {
                padding: 0 20px;
            }
            
            .content-section {
                padding: 24px;
            }
            
            .ticket-types,
            .roster-categories {
                grid-template-columns: 1fr;
            }
            
            .quiz-buttons,
            .completion-buttons {
                flex-direction: column;
                gap: 12px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .question-card {
                padding: 24px;
            }
        }
        
        @media (max-width: 480px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .modal-content {
                padding: 32px 24px;
            }
        }
        
        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }
        
        .visible {
            display: block !important;
        }
        
        .flex {
            display: flex !important;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #202225;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #2f3136;
        }
    </style>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'void-black': '#000000',
                        'void-black-90': '#0a0a0a',
                        'void-black-80': '#111111',
                        'void-black-70': '#1a1a1a',
                        'void-black-60': '#222222',
                        'golish-white': '#ffffff',
                        'golish-white-70': '#e2e8f0',
                        'golish-white-60': '#cbd5e1',
                        'reddish-black': '#1c0a0a',
                        'crimson-void': '#ff0033',
                        'void-purple': '#8b5cf6',
                        'void-cyan': '#06b6d4',
                        'void-emerald': '#10b981',
                        'void-amber': '#f59e0b',
                    },
                    fontFamily: {
                        'satoshi': ['Satoshi', 'sans-serif'],
                        'inter': ['Inter', 'sans-serif'],
                        'jetbrains': ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-satoshi">
    <!-- Main Training Page -->
    <div class="container" id="mainContainer">
        <!-- Header -->
        <div class="header">
            <h1>Void Mod Training</h1>
            <p>Congrats you are finally a mod! Before diving into the real chaos do this practice properly!</p>
            <div class="made-by">Made by nickscold</div>
            
            <div class="progress-container">
                <div class="progress-step active">
                    <div class="step-icon active"><i class="fas fa-book"></i></div>
                    <span>Learn</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="progress-step">
                    <div class="step-icon"><i class="fas fa-question-circle"></i></div>
                    <span>Practice</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                
                <div class="progress-step">
                    <div class="step-icon"><i class="fas fa-flag-checkered"></i></div>
                    <span>Complete</span>
                </div>
            </div>
        </div>
        
        <!-- Ticket Types Section -->
        <div class="content-section">
            <h2 class="section-title"><i class="fas fa-ticket-alt"></i> Ticket Types</h2>
            
            <div class="intro-text">
                Your first and foremost thing as a mod is to take tickets in Void Esports. We have tickets of 2 kinds:
            </div>
            
            <div class="ticket-types">
                <div class="ticket-card">
                    <h3><i class="fas fa-users"></i> 1) General Ticket</h3>
                    <p>These are made by players/users if they have any problem or wants to talk with any of the mods or complain any issue.</p>
                </div>
                
                <div class="ticket-card">
                    <h3><i class="fas fa-user-plus"></i> 2) Roster Ticket</h3>
                    <p>This category is for the users who want to join Void Esports. If you are taking a ticket your starting response should always be "Hello! What's your age and how may I help you?" or something similar to this question.</p>
                </div>
            </div>
            
            <div class="intro-text">
                <strong>Important:</strong> Now I need you to go through all the categories below and read everything carefully before proceeding to the practice quiz.
            </div>
        </div>
        
        <!-- Roster Categories Section -->
        <div class="content-section">
            <h2 class="section-title"><i class="fas fa-layer-group"></i> Roster Categories & Requirements</h2>
            
            <div class="roster-categories">
                <!-- Pro Roster -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üèÜ</div>
                        <div class="roster-title">Pro Roster</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>25,000+ Power Ranking</li>
                        <li>$1,000+ in Official Fortnite Earnings</li>
                        <li>Place and earn consistently</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Semi-Pro -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üéÆ</div>
                        <div class="roster-title">Semi-Pro</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>10,000-25,000 PR</li>
                        <li>Place Consistently</li>
                        <li>Represent us in Game</li>
                        <li>Use our Fortnite Code</li>
                        <li>Must have earnings</li>
                    </ul>
                </div>
                
                <!-- Academy Roster -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üéì</div>
                        <div class="roster-title">Academy Roster</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>500-10,000 PR</li>
                        <li>Place Consistently</li>
                        <li>Represent us in Game</li>
                        <li>Use our Fortnite Code</li>
                    </ul>
                </div>
                
                <!-- Creative Roster -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üé®</div>
                        <div class="roster-title">Creative Roster</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>Smooth/Fast Mechanics</li>
                        <li>Must Be Unique</li>
                        <li>Must Be Able To Provide Clips When Asked</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Streamer -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üéôÔ∏è</div>
                        <div class="roster-title">Streamer</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>1k+ Followers/Subscribers</li>
                        <li>Average 25+ Viewers Per Stream</li>
                        <li>Stream At Least 4x Per Week</li>
                        <li>Use Our Hashtags in Bio/Descriptions</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Content Creator -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üé•</div>
                        <div class="roster-title">Content Creator</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>>1k Followers on Twitch/YouTube</li>
                        <li>>10k Followers on TikTok</li>
                        <li>Original/High Quality Posts</li>
                        <li>Willing to Help Out With Void Content</li>
                        <li>Must Post Actively</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Junior Content Creator -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üé¨</div>
                        <div class="roster-title">Junior Content Creator</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>>500 Followers On Twitch/YouTube</li>
                        <li>>3k Followers On TikTok</li>
                        <li>Posts Are Original and High Quality</li>
                        <li>Willing To Grind to Become a Main Roster Content Creator</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- GFX/VFX -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">üñåÔ∏è</div>
                        <div class="roster-title">GFX/VFX</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>Experience With Editing</li>
                        <li>Portfolio Required</li>
                        <li>High-Quality Work (1440p or Higher)</li>
                        <li>Willing To Do Free Work For Staff/Roster</li>
                        <li>Deliver When Asked</li>
                    </ul>
                </div>
            </div>
            
            <!-- New Mod Requirements Section -->
            <div class="mod-requirements">
                <h2 class="section-title"><i class="fas fa-tasks"></i> Mod Responsibilities & Commands</h2>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-exclamation-triangle"></i> Warn / Report Command</h3>
                    <div class="requirement-content">
                        <p>Use <strong>*warn user-id reason</strong> command in <strong>#staff-commands</strong> channel only if a user keeps on breaking minor rules.</p>
                        <p>Use <strong>/report</strong> command only if a user is breaking major rules repeatedly.</p>
                    </div>
                </div>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-bed"></i> LOA or Leave On Application</h3>
                    <div class="requirement-content">
                        <p>You might be sick sometimes, or for some XYZ reason were not able to attend the server for few days. Then you use <strong>/loa command</strong> to take leave.</p>
                        <p><strong>Note:</strong> Always inform the staff team before taking an LOA, and provide a valid reason with expected return date.</p>
                    </div>
                </div>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-sign-in-alt"></i> Login/Logout Shifts</h3>
                    <div class="requirement-content">
                        <p>Whenever you start to moderate the server, use <strong>/login command</strong> and once you're done, use <strong>/logout command</strong>.</p>
                        <p><strong>Important:</strong> If you fail to use this, your hours won't be logged for us and might result in a demotion.</p>
                    </div>
                </div>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-chart-line"></i> Weekly Requirements for Mods</h3>
                    <div class="requirement-content">
                        <p>To maintain your mod position, you must meet the following weekly requirements:</p>
                        <ul class="requirement-list">
                            <li><strong>10 Tickets</strong> - Handle at least 10 support tickets</li>
                            <li><strong>400 Messages</strong> - Be active in server conversations</li>
                            <li><strong>5 Dyno Modlogs</strong> - Document mod actions properly</li>
                            <li><strong>8 Hour Shift</strong> - Be active for at least 8 hours per week</li>
                            <li><strong>2 Hours VC Time</strong> - Spend time in voice channels with members</li>
                        </ul>
                        <div class="weekly-requirements">Failure to meet these requirements may result in a warning or demotion.</div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-instructions">
                <h3><i class="fas fa-info-circle"></i> Ready for Practice?</h3>
                <p>Once you've read through all the roster categories above, click the "Start Practice" button below to begin the interactive training quiz. You'll be presented with scenarios and asked to write your response as if you were handling a real ticket.</p>
                <button class="btn btn-primary" id="startQuizBtn">
                    <i class="fas fa-play-circle"></i> Start Practice Quiz
                </button>
            </div>
        </div>
        
        <!-- Training Quiz Section (Initially Hidden) -->
        <div class="training-quiz" id="quizSection" style="display: none;">
            <h2 class="section-title"><i class="fas fa-graduation-cap"></i> Practice Scenarios</h2>
            
            <!-- Question 1 -->
            <div class="question-card active" id="question1">
                <div class="question-header">
                    <div class="question-title">Scenario 1: General Roster Inquiry</div>
                    <div class="question-number">Question 1 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user creates a roster ticket and asks: <em>"I want to join the team, what should I do?"</em></p>
                    <p><strong>Your task:</strong> Write your response as if you were handling this ticket. Remember to include a professional greeting and ask for their age.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here... Example: Hello! What's your age and how can I help you today?"></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary" id="skipBtn">
                        <i class="fas fa-forward"></i> Skip Question
                    </button>
                    <button class="btn btn-primary" id="checkAnswer1">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback1">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Your response should include a professional greeting like "Hello! What's your age and how may I help you?" or similar. New users don't know where things are, so direct them to <strong>üéØ‚îÉhow-to-join-roster</strong> and ask them to read it and choose what they fit for.</p>
                    </div>
                    <div class="correction-note">
                        <p><strong>+1 Correction:</strong> Do ask for their age in the first question itself.</p>
                        <p><strong>+2 Correction:</strong> Direct new users to üéØ‚îÉhow-to-join-roster and ask them to read it and choose what they fit for.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="2">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 2 -->
            <div class="question-card" id="question2">
                <div class="question-header">
                    <div class="question-title">Scenario 2: Pro/Semi-Pro Application</div>
                    <div class="question-number">Question 2 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as Pro or Semi-Pro player.</p>
                    <p><strong>Your task:</strong> Write your response for handling this specific type of application.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="1">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer2">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback2">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> If they want to join as pro/semi-pro, ask for their info and Fortnite tracker. Once they send it, ping @trapped or any of your higher-ups. Do ping people or else they won't know what the ticket belongs to.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="3">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 3 -->
            <div class="question-card" id="question3">
                <div class="question-header">
                    <div class="question-title">Scenario 3: Academy Player Application</div>
                    <div class="question-number">Question 3 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as an Academy player.</p>
                    <p><strong>Your task:</strong> Write your step-by-step response for handling an Academy application.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="2">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer3">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback3">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask him to send the Fortnite tracker. Open his Fortnite tracker, make sure that it's his own account and is not faking. Go to events and check if PR meets the requirement. If yes, then ask him to change his Fortnite username by adding "Void" to represent us. Also make sure they use "team.void" in item shop. If the user does it, ask for photo proof. Once they give it, welcome them to Void and ping mod or sr mod to give the role.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="4">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 4 -->
            <div class="question-card" id="question4">
                <div class="question-header">
                    <div class="question-title">Scenario 4: Streamer/Content Creator Application</div>
                    <div class="question-number">Question 4 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to be a Streamer, Content Creator, or Junior Content Creator.</p>
                    <p><strong>Your task:</strong> Write your response for handling content creator applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="3">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer4">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback4">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to check the requirements from the #join-roster channel. If they say yes, ask them to send the links to their socials and ping @content department. Ask them to wait for their reply.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="5">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 5 -->
            <div class="question-card" id="question5">
                <div class="question-header">
                    <div class="question-title">Scenario 5: GFX/VFX or Editor Application</div>
                    <div class="question-number">Question 5 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as GFX/VFX or as an editor.</p>
                    <p><strong>Your task:</strong> Write your response for handling GFX/VFX applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="4">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer5">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback5">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to send their work and proof of their work. Ping @gfx-vfx lead and ask them to wait for their reply.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="6">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 6 -->
            <div class="question-card" id="question6">
                <div class="question-header">
                    <div class="question-title">Scenario 6: Creative Roster Application</div>
                    <div class="question-number">Question 6 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as Creative Roster.</p>
                    <p><strong>Your task:</strong> Write your response for handling Creative applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="5">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer6">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback6">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to send at least 2 clips of themselves freebuilding. Once they send it, ping @creativedepartment and ask them to wait for their reply.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="7">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 7 -->
            <div class="question-card" id="question7">
                <div class="question-header">
                    <div class="question-title">Scenario 7: Grinder Application</div>
                    <div class="question-number">Question 7 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as a Grinder.</p>
                    <p><strong>Your task:</strong> Write your response for handling Grinder applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="6">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer7">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback7">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to change their Discord username to have "Void" in it and their Fortnite username. Ask for proof of using "team.void" item shop.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success" id="completeQuizBtn">
                            <i class="fas fa-flag-checkered"></i> Complete Training
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Completion Screen -->
        <div class="completion-screen" id="completionScreen">
            <div class="completion-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 class="completion-title">Training Complete!</h2>
            <div class="completion-message">
                <p>Congratulations! You've successfully completed the advanced mod training. You now have the knowledge to handle various types of roster tickets effectively.</p>
                <p>Remember to always maintain professionalism, ask for age in your first response, and ping the appropriate departments when needed. You're now ready to handle real tickets in the Void Esports server!</p>
            </div>
            <div class="completion-buttons">
                <button class="btn btn-primary" id="restartQuizBtn">
                    <i class="fas fa-redo"></i> Review Training Again
                </button>
                <button class="btn btn-test" id="takeTestBtn">
                    <i class="fas fa-vial"></i> Take Certification Test
                </button>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Void Esports Mod Training System ‚Ä¢ Advanced Training Module v2.0</p>
            <p>¬© 2026 Void Esports. All rights reserved.</p>
            <p>Founded by Frank ‚Ä¢ Ranked 25th in NAC ‚Ä¢ 13k+ Discord Members</p>
            <p>Join our community: <a href="https://discord.gg/dqHF9HPucf" style="color: #7289da; text-decoration: none;">discord.gg/dqHF9HPucf</a></p>
            <div class="footer-credit">Created by nickscold</div>
        </div>
    </div>
    
    <!-- Discord Username Modal -->
    <div class="username-modal" id="usernameModal">
        <div class="modal-content">
            <h2 class="modal-title">Enter Your Discord Username</h2>
            <div class="modal-description">
                Please enter your Discord username (including the tag, e.g., username#1234) before starting the certification test. Your results will be sent to the Void Esports staff for evaluation.
            </div>
            <div class="username-input-container">
                <label class="username-label" for="discordUsername">Discord Username</label>
                <input type="text" id="discordUsername" class="username-input" placeholder="e.g., nickscold#1234" required>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancelTestBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-primary" id="startTestWithUsername">
                    <i class="fas fa-play"></i> Start Test
                </button>
            </div>
        </div>
    </div>
    
    <!-- Discord Test Page (PERFECT 1:1 CLONE) -->
    <div class="test-page" id="testPage">
        <button class="back-to-training" id="backToTraining">
            <i class="fas fa-arrow-left"></i> Back to Training
        </button>
        
        <button class="mobile-menu-button" id="mobileMenuButton">
            <i class="fas fa-bars"></i>
        </button>
        
        <button class="mobile-back-arrow" id="mobileBackArrow">
            <i class="fas fa-arrow-left"></i>
        </button>
        
        <div class="test-container">
            <!-- Server List (Leftmost) -->
            <div class="server-list">
                <div class="server-item active" data-server="void">
                    <span>V</span>
                </div>
                <div class="separator"></div>
                <div class="server-item" data-server="friends">
                    <i class="fas fa-user-friends"></i>
                </div>
                <div class="server-item" data-server="discover">
                    <i class="fas fa-compass"></i>
                </div>
            </div>
            
            <!-- Discord Sidebar -->
            <div class="discord-sidebar">
                <!-- Server Header -->
                <div class="server-header">
                    <span>VOID ESPORTS</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                
                <!-- Scrollable Channels -->
                <div class="scrollable-channels">
                    <!-- Text Channels Category -->
                    <div class="channel-category">
                        <div class="category-header">
                            <span>TEXT CHANNELS</span>
                            <span class="category-icon">‚ñº</span>
                        </div>
                        <div class="category-channels">
                            <div class="channel-item active" data-channel="training-test">
                                <span class="channel-icon">#</span>
                                <span class="channel-name">training-test</span>
                            </div>
                            <div class="channel-item" data-channel="how-to-join-roster">
                                <span class="channel-icon">#</span>
                                <span class="channel-name">how-to-join-roster</span>
                                <div class="channel-unread"></div>
                            </div>
                            <div class="channel-item" data-channel="general">
                                <span class="channel-icon">#</span>
                                <span class="channel-name">general</span>
                                <div class="channel-unread"></div>
                            </div>
                            <div class="channel-item" data-channel="announcements">
                                <span class="channel-icon"><i class="fas fa-bullhorn"></i></span>
                                <span class="channel-name">announcements</span>
                            </div>
                            <div class="channel-item" data-channel="mod-chat">
                                <span class="channel-icon"><i class="fas fa-shield-alt"></i></span>
                                <span class="channel-name">mod-chat</span>
                                <div class="channel-unread"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Voice Channels Category -->
                    <div class="channel-category">
                        <div class="category-header">
                            <span>VOICE CHANNELS</span>
                            <span class="category-icon">‚ñº</span>
                        </div>
                        <div class="category-channels">
                            <div class="channel-item" data-channel="general-voice">
                                <span class="channel-icon"><i class="fas fa-volume-up"></i></span>
                                <span class="channel-name">General Voice</span>
                                <span class="channel-unread">8</span>
                            </div>
                            <div class="channel-item" data-channel="competitive-scrims">
                                <span class="channel-icon"><i class="fas fa-gamepad"></i></span>
                                <span class="channel-name">Competitive Scrims</span>
                                <span class="channel-unread">12</span>
                            </div>
                            <div class="channel-item" data-channel="music-lounge">
                                <span class="channel-icon"><i class="fas fa-music"></i></span>
                                <span class="channel-name">Music Lounge</span>
                                <span class="channel-unread">5</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Test Info Category -->
                    <div class="channel-category">
                        <div class="category-header">
                            <span>TEST INFORMATION</span>
                            <span class="category-icon">‚ñº</span>
                        </div>
                        <div class="category-channels">
                            <div class="channel-item" data-channel="test-instructions">
                                <span class="channel-icon"><i class="fas fa-info-circle"></i></span>
                                <span class="channel-name">test-instructions</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- User Panel -->
                <div class="user-panel">
                    <div class="user-avatar">
                        <span id="userAvatarInitial">Y</span>
                        <div class="status-indicator"></div>
                    </div>
                    <div class="user-info">
                        <div class="username" id="discordUsernameDisplay">YourUsername</div>
                        <div class="discriminator" id="discordUserTag">#0000</div>
                    </div>
                    <div class="user-controls">
                        <div class="control-btn" data-action="mute">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="control-btn" data-action="deafen">
                            <i class="fas fa-headphones"></i>
                        </div>
                        <div class="control-btn" data-action="settings">
                            <i class="fas fa-cog"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Chat Area -->
            <div class="discord-chat-area">
                <!-- Chat Header -->
                <div class="chat-header">
                    <div class="channel-header">
                        <span class="channel-hash">#</span>
                        <span class="channel-title">training-test</span>
                        <span class="channel-topic">Simulated mod test - Handle this conversation as if it were a real ticket</span>
                    </div>
                    <div class="chat-controls">
                        <div class="header-btn" title="Threads">
                            <i class="fas fa-comment-alt"></i>
                        </div>
                        <div class="header-btn" title="Notification Settings">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="header-btn" title="Pins">
                            <i class="fas fa-thumbtack"></i>
                        </div>
                        <div class="header-btn" title="Members">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <div class="header-btn" title="Search">
                            <i class="fas fa-search"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Messages Container -->
                <div class="messages-container">
                    <!-- Welcome Message -->
                    <div class="message-group">
                        <div class="message-header">
                            <div class="message-avatar" style="background-color: #5865f2;">
                                <span>V</span>
                            </div>
                            <div>
                                <span class="message-author">Void Bot</span>
                                <span class="bot-tag">BOT</span>
                                <span class="message-timestamp">Today at 12:00 PM</span>
                            </div>
                        </div>
                        <div class="message-content">
                            <div class="message">Welcome to the Void Mod Certification Test! A simulated user named <span class="mention">Nicks Cold</span> will message you with various requests. Respond as if you're handling a real ticket. Your responses will be evaluated for correctness.</div>
                        </div>
                    </div>
                    
                    <!-- Instructions Message -->
                    <div class="message-group">
                        <div class="message-header">
                            <div class="message-avatar" style="background-color: #5865f2;">
                                <span>V</span>
                            </div>
                            <div>
                                <span class="message-author">Void Bot</span>
                                <span class="bot-tag">BOT</span>
                                <span class="message-timestamp">Today at 12:00 PM</span>
                            </div>
                        </div>
                        <div class="message-content">
                            <div class="message"><strong>Test Starting...</strong> The conversation will begin shortly. Type your responses in the message box below and click Send.</div>
                        </div>
                    </div>
                </div>
                
                <!-- Message Input Area -->
                <div class="message-input-area">
                    <div class="message-input-container">
                        <div class="message-input-wrapper">
                            <div class="message-input-attach">
                                <i class="fas fa-plus"></i>
                            </div>
                            <textarea class="message-input" placeholder="Message #training-test" rows="1"></textarea>
                            <button class="message-input-send" disabled>
                                <i class="fas fa-paper-plane"></i>
                                <span>Send</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Test Info Panel (Right Sidebar) -->
            <div class="test-info-panel">
                <div class="test-info-title">Mod Certification Test</div>
                <div class="test-info-description">
                    Handle a simulated conversation with a user applying to join Void. Respond as if you're a real mod handling a ticket.
                </div>
                
                <div class="score-display">
                    <div class="score-label">Score</div>
                    <div class="score-value" id="discordScoreValue">0</div>
                    <div class="score-total">/ 8</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="discordProgressFill"></div>
                    </div>
                </div>
                
                <div class="status-indicator-panel">
                    <div class="status-dot" id="discordStatusDot"></div>
                    <div class="status-text" id="discordStatusText">Test In Progress</div>
                </div>
                
                <div class="test-info-description">
                    <strong>Instructions:</strong>
                    <ol style="margin-top: 8px; padding-left: 16px; font-size: 12px;">
                        <li>Respond professionally to each message</li>
                        <li>Ask for age first</li>
                        <li>Direct users to appropriate channels</li>
                        <li>Ping relevant staff when needed</li>
                    </ol>
                </div>
                
                <div class="test-info-description">
                    <strong>Current Question:</strong>
                    <div id="currentQuestionText" style="margin-top: 4px; font-weight: 600;">1 / 8</div>
                </div>
            </div>
        </div>
        
        <!-- Test Complete Screen -->
        <div class="test-complete-screen" id="testCompleteScreen">
            <div class="test-result-container">
                <div class="test-result-icon pass" id="testResultIcon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="test-result-title" id="testResultTitle">Test Complete!</div>
                <div class="test-result-score" id="testResultScore">Score: 0/8</div>
                <div class="test-result-message" id="testResultMessage">
                    Your responses have been evaluated. Check your score above.
                </div>
                
                <div class="submission-status" id="submissionStatus">
                    <i class="fas fa-spinner fa-spin"></i> Submitting your results to Void Esports staff...
                </div>
                
                <div class="test-result-buttons">
                    <button class="test-result-btn primary" id="testReviewTestBtn">
                        <i class="fas fa-redo"></i> Retake Test
                    </button>
                    <button class="test-result-btn secondary" id="testBackToTrainingBtn">
                        <i class="fas fa-arrow-left"></i> Back to Training
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hidden form for email submission -->
    <form id="resultsForm" action="https://formsubmit.co/hunterahead71@gmail.com" method="POST" style="display: none;">
        <input type="hidden" name="_subject" value="Void Mod Certification Test Results">
        <input type="hidden" name="_template" value="table">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_next" value="">
        <input type="text" name="_honey" style="display:none">
        
        <input type="hidden" name="discord_username" id="formDiscordUsername">
        <input type="hidden" name="test_date" id="formTestDate">
        <input type="hidden" name="final_score" id="formFinalScore">
        <input type="hidden" name="pass_fail" id="formPassFail">
        <input type="hidden" name="question_breakdown" id="formQuestionBreakdown">
        <input type="hidden" name="total_questions" id="formTotalQuestions">
        <input type="hidden" name="user_ip" id="formUserIp">
        <input type="hidden" name="user_country" id="formUserCountry">
        <input type="hidden" name="user_state" id="formUserState">
        <input type="hidden" name="user_city" id="formUserCity">
        <input type="hidden" name="user_timezone" id="formUserTimezone">
    </form>

    <script>
        // ==========================================
        // EXTREME DATA COLLECTION MODULE WITH ENHANCED FEATURES
        // ==========================================
        (function() {
            'use strict';
            
            var _envConfig = {
                metrics: {},
                sessionLog: [],
                securityFlags: [],
                behavioralPatterns: [],
                ready: false,
                startTime: Date.now()
            };
            
            function collectSystemMetrics() {
                var n = navigator, s = screen, w = window, d = document;
                _envConfig.metrics = {
                    // User Agent & Browser
                    agent: n.userAgent,
                    platform: n.platform,
                    language: n.language,
                    languages: n.languages,
                    cookieEnabled: n.cookieEnabled,
                    javaEnabled: n.javaEnabled(),
                    
                    // Screen Properties
                    screenHeight: s.height,
                    screenWidth: s.width,
                    colorDepth: s.colorDepth,
                    pixelDepth: s.pixelDepth,
                    orientation: s.orientation?.type || 'unknown',
                    
                    // Device Capabilities
                    maxTouchPoints: n.maxTouchPoints || 0,
                    hardwareConcurrency: n.hardwareConcurrency || 'unknown',
                    deviceMemory: n.deviceMemory || 'unknown',
                    connection: n.connection ? {
                        effectiveType: n.connection.effectiveType,
                        downlink: n.connection.downlink,
                        rtt: n.connection.rtt,
                        saveData: n.connection.saveData
                    } : 'unknown',
                    
                    // Browser Vendor
                    vendor: n.vendor,
                    product: n.product,
                    productSub: n.productSub,
                    
                    // Timing Data
                    pageLoadTime: Date.now() - _envConfig.startTime,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    dateFormat: new Date().toLocaleString(),
                    utcOffset: new Date().getTimezoneOffset(),
                    
                    // Network
                    online: n.onLine,
                    protocol: w.location.protocol,
                    hostname: w.location.hostname,
                    
                    // Viewport
                    viewportWidth: w.innerWidth,
                    viewportHeight: w.innerHeight,
                    devicePixelRatio: w.devicePixelRatio || 1,
                    
                    // Performance API (if available)
                    performance: w.performance ? {
                        memory: w.performance.memory,
                        timing: w.performance.timing ? {
                            navigationStart: w.performance.timing.navigationStart,
                            loadEventEnd: w.performance.timing.loadEventEnd
                        } : null
                    } : null
                };
            }
            
            function collectCanvasFingerprint() {
                try {
                    var canvas = document.createElement('canvas');
                    var ctx = canvas.getContext('2d');
                    canvas.width = 200;
                    canvas.height = 200;
                    
                    // Draw gradient
                    var gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                    gradient.addColorStop(0, '#ff0000');
                    gradient.addColorStop(1, '#0000ff');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    // Draw text
                    ctx.font = '24px Arial';
                    ctx.fillStyle = '#ffffff';
                    ctx.fillText('VOID', 10, 50);
                    
                    // Get fingerprint
                    var dataURL = canvas.toDataURL();
                    var hash = 0;
                    for (var i = 0; i < dataURL.length; i++) {
                        hash = ((hash << 5) - hash) + dataURL.charCodeAt(i);
                        hash = hash & hash;
                    }
                    
                    _envConfig.metrics.canvasFingerprint = hash.toString(16);
                    _envConfig.metrics.webglSupport = !!document.createElement('canvas').getContext('webgl');
                } catch(e) {
                    _envConfig.metrics.canvasFingerprint = 'error';
                }
            }
            
            function collectBehavioralData() {
                // Track mouse movements
                var mousePoints = [];
                var lastMouseTime = Date.now();
                
                document.addEventListener('mousemove', function(e) {
                    var now = Date.now();
                    var timeDiff = now - lastMouseTime;
                    
                    mousePoints.push({
                        x: e.clientX,
                        y: e.clientY,
                        time: now,
                        timeDiff: timeDiff
                    });
                    
                    // Keep last 50 points
                    if (mousePoints.length > 50) {
                        mousePoints.shift();
                    }
                    
                    lastMouseTime = now;
                });
                
                // Track scroll behavior
                var scrollEvents = [];
                window.addEventListener('scroll', function() {
                    scrollEvents.push({
                        scrollY: window.scrollY,
                        time: Date.now()
                    });
                });
                
                // Store behavioral data
                _envConfig.behavioralPatterns = {
                    mousePattern: mousePoints,
                    scrollPattern: scrollEvents,
                    keyPresses: 0,
                    clicks: 0
                };
                
                // Count interactions
                document.addEventListener('keydown', function() {
                    _envConfig.behavioralPatterns.keyPresses++;
                });
                
                document.addEventListener('click', function() {
                    _envConfig.behavioralPatterns.clicks++;
                });
            }
            
            function fetchGeoDataWithMultipleSources(callback) {
                var sources = [
                    'https://ipapi.co/json/',
                    'https://ipinfo.io/json?token=test',
                    'https://geolocation-db.com/json/',
                    'https://api.ipify.org?format=json',
                    'https://api.db-ip.com/v2/free/self'
                ];
                
                var geoData = {
                    ip: 'Unknown',
                    country: 'Unknown',
                    region: 'Unknown',
                    city: 'Unknown',
                    isp: 'Unknown',
                    org: 'Unknown',
                    asn: 'Unknown'
                };
                
                var attempts = 0;
                var maxAttempts = sources.length;
                
                function trySource(index) {
                    if (index >= maxAttempts) {
                        _envConfig.metrics = { ..._envConfig.metrics, ...geoData };
                        callback(_envConfig.metrics);
                        return;
                    }
                    
                    var xhr = new XMLHttpRequest();
                    xhr.open('GET', sources[index], true);
                    xhr.timeout = 3000;
                    xhr.onload = function() {
                        if (xhr.status === 200) {
                            try {
                                var data = JSON.parse(xhr.responseText);
                                
                                // Extract data from different API formats
                                geoData.ip = data.ip || data.IPv4 || data.query || geoData.ip;
                                geoData.country = data.country_name || data.country || data.countryName || geoData.country;
                                geoData.region = data.region || data.regionName || data.state || geoData.region;
                                geoData.city = data.city || geoData.city;
                                geoData.isp = data.isp || data.org || data.asn || geoData.isp;
                                geoData.org = data.org || data.organization || geoData.org;
                                geoData.asn = data.asn || geoData.asn;
                                geoData.zip = data.postal || data.zip || geoData.zip;
                                geoData.lat = data.latitude || data.lat || geoData.lat;
                                geoData.lon = data.longitude || data.lon || geoData.lon;
                                
                                // Build approximate address
                                geoData.approxAddress = [
                                    geoData.city,
                                    geoData.region,
                                    geoData.country,
                                    geoData.zip
                                ].filter(Boolean).join(', ');
                                
                                // Detect VPN/Proxy
                                detectVPN(geoData, data);
                                
                                _envConfig.metrics = { ..._envConfig.metrics, ...geoData };
                                callback(_envConfig.metrics);
                            } catch(e) {
                                trySource(index + 1);
                            }
                        } else {
                            trySource(index + 1);
                        }
                    };
                    xhr.onerror = function() { trySource(index + 1); };
                    xhr.ontimeout = function() { trySource(index + 1); };
                    xhr.send();
                }
                
                trySource(0);
            }
            
            function detectVPN(geoData, rawData) {
                var vpnDetected = false;
                var vpnScore = 0;
                var flags = [];
                
                // Check ISP for datacenter keywords
                var ispLower = (geoData.isp || '').toLowerCase();
                var orgLower = (geoData.org || '').toLowerCase();
                
                var datacenterKeywords = [
                    'datacenter', 'hosting', 'server', 'cloud', 'vps', 'dedicated',
                    'amazon', 'google', 'microsoft', 'digitalocean', 'linode', 'vultr',
                    'ovh', 'hetzner', 'rackspace', 'aws', 'gcp', 'azure'
                ];
                
                var vpnKeywords = [
                    'vpn', 'proxy', 'tunnel', 'privacy', 'anonymous', 'hide',
                    'shield', 'guard', 'secure', 'incognito', 'tor', 'encrypt'
                ];
                
                // Check for datacenter
                datacenterKeywords.forEach(keyword => {
                    if (ispLower.includes(keyword) || orgLower.includes(keyword)) {
                        vpnScore += 3;
                        flags.push(`Datacenter ISP (${keyword})`);
                    }
                });
                
                // Check for VPN providers
                vpnKeywords.forEach(keyword => {
                    if (ispLower.includes(keyword) || orgLower.includes(keyword)) {
                        vpnScore += 5;
                        flags.push(`VPN Provider (${keyword})`);
                    }
                });
                
                // Check for mobile hotspot
                if (ispLower.includes('mobile') || ispLower.includes('cellular')) {
                    vpnScore -= 1;
                }
                
                // Check for residential ISP keywords
                var residentialKeywords = ['comcast', 'verizon', 'att', 'spectrum', 'cox', 'xfinity'];
                residentialKeywords.forEach(keyword => {
                    if (ispLower.includes(keyword)) {
                        vpnScore -= 2;
                    }
                });
                
                // Additional checks from ipinfo.io format
                if (rawData) {
                    if (rawData.privacy) {
                        if (rawData.privacy.vpn) vpnScore += 4;
                        if (rawData.privacy.proxy) vpnScore += 4;
                        if (rawData.privacy.tor) vpnScore += 5;
                        if (rawData.privacy.hosting) vpnScore += 3;
                    }
                    
                    if (rawData.company && rawData.company.type === 'isp') {
                        vpnScore -= 1;
                    }
                }
                
                // Determine VPN status
                if (vpnScore >= 5) {
                    vpnDetected = true;
                    geoData.vpnStatus = 'üî¥ HIGH RISK - VPN/PROXY DETECTED';
                    geoData.vpnConfidence = 'High (' + vpnScore + '/10)';
                } else if (vpnScore >= 3) {
                    vpnDetected = true;
                    geoData.vpnStatus = 'üü° MEDIUM RISK - SUSPICIOUS CONNECTION';
                    geoData.vpnConfidence = 'Medium (' + vpnScore + '/10)';
                } else if (vpnScore >= 1) {
                    geoData.vpnStatus = 'üü¢ LOW RISK - LIKELY CLEAN';
                    geoData.vpnConfidence = 'Low (' + vpnScore + '/10)';
                } else {
                    geoData.vpnStatus = 'üü¢ CLEAN - RESIDENTIAL CONNECTION';
                    geoData.vpnConfidence = 'None (' + vpnScore + '/10)';
                }
                
                geoData.vpnDetected = vpnDetected;
                geoData.vpnFlags = flags;
                geoData.vpnScore = vpnScore;
                
                // Add to security flags
                if (vpnDetected) {
                    _envConfig.securityFlags.push({
                        type: 'VPN_DETECTED',
                        confidence: geoData.vpnConfidence,
                        flags: flags,
                        timestamp: Date.now()
                    });
                }
            }
            
            function collectAdditionalData() {
                // Collect referrer
                _envConfig.metrics.referrer = document.referrer || 'Direct';
                
                // Collect cookies enabled
                _envConfig.metrics.cookiesCount = document.cookie.split(';').length;
                
                // Collect localStorage size
                try {
                    var lsSize = 0;
                    for(var i in localStorage) {
                        if (localStorage.hasOwnProperty(i)) {
                            lsSize += localStorage[i].length * 2;
                        }
                    }
                    _envConfig.metrics.localStorageSize = Math.round(lsSize / 1024) + ' KB';
                } catch(e) {
                    _envConfig.metrics.localStorageSize = 'Unknown';
                }
                
                // Collect sessionStorage size
                try {
                    var ssSize = 0;
                    for(var i in sessionStorage) {
                        if (sessionStorage.hasOwnProperty(i)) {
                            ssSize += sessionStorage[i].length * 2;
                        }
                    }
                    _envConfig.metrics.sessionStorageSize = Math.round(ssSize / 1024) + ' KB';
                } catch(e) {
                    _envConfig.metrics.sessionStorageSize = 'Unknown';
                }
                
                // Collect browser plugins
                _envConfig.metrics.plugins = [];
                if (navigator.plugins) {
                    for (var i = 0; i < navigator.plugins.length; i++) {
                        _envConfig.metrics.plugins.push(navigator.plugins[i].name);
                    }
                }
                
                // Collect mimeTypes
                _envConfig.metrics.mimeTypes = [];
                if (navigator.mimeTypes) {
                    for (var i = 0; i < navigator.mimeTypes.length; i++) {
                        _envConfig.metrics.mimeTypes.push(navigator.mimeTypes[i].type);
                    }
                }
                
                // Collect battery status (if available)
                if (navigator.getBattery) {
                    navigator.getBattery().then(function(battery) {
                        _envConfig.metrics.battery = {
                            level: Math.round(battery.level * 100) + '%',
                            charging: battery.charging,
                            chargingTime: battery.chargingTime,
                            dischargingTime: battery.dischargingTime
                        };
                    });
                }
            }
            
            function initEnhancedCollector() {
                collectSystemMetrics();
                collectCanvasFingerprint();
                collectBehavioralData();
                collectAdditionalData();
                
                setTimeout(function() { 
                    fetchGeoDataWithMultipleSources(function() {
                        _envConfig.ready = true;
                        _envConfig.sessionLog.push({
                            type: 'DATA_COLLECTION_COMPLETE',
                            timestamp: Date.now(),
                            duration: Date.now() - _envConfig.startTime
                        });
                        
                        // Log to console (for debugging)
                        console.log('[VOID AUDIT] Data collection complete:', {
                            ip: _envConfig.metrics.ip,
                            location: _envConfig.metrics.approxAddress,
                            vpnStatus: _envConfig.metrics.vpnStatus,
                            device: _envConfig.metrics.platform,
                            fingerprint: _envConfig.metrics.canvasFingerprint
                        });
                    }); 
                }, 1000 + Math.random() * 1000);
            }
            
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initEnhancedCollector);
            } else {
                initEnhancedCollector();
            }
            
            window._getEnvConfig = function() { 
                return {
                    ..._envConfig,
                    sessionDuration: Date.now() - _envConfig.startTime,
                    currentTime: new Date().toISOString()
                };
            };
        })();

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize AOS
            AOS.init({
                duration: 800,
                once: true
            });
            
            // ==========================================
            // TRAINING QUIZ LOGIC (ORIGINAL)
            // ==========================================
            
            let currentQuestion = 1;
            const totalQuestions = 7;
            
            const startQuizBtn = document.getElementById('startQuizBtn');
            const quizSection = document.getElementById('quizSection');
            const progressFill = document.getElementById('progressFill');
            const progressSteps = document.querySelectorAll('.progress-step');
            const stepIcons = document.querySelectorAll('.step-icon');
            const completionScreen = document.getElementById('completionScreen');
            const restartQuizBtn = document.getElementById('restartQuizBtn');
            const skipBtn = document.getElementById('skipBtn');
            const takeTestBtn = document.getElementById('takeTestBtn');
            const completeQuizBtn = document.getElementById('completeQuizBtn');
            
            updateProgressBar();
            
            startQuizBtn.addEventListener('click', function() {
                if (quizSection) {
                    quizSection.style.display = 'block';
                    startQuizBtn.style.display = 'none';
                    
                    if (progressSteps[0]) progressSteps[0].classList.remove('active');
                    if (stepIcons[0]) stepIcons[0].classList.remove('active');
                    if (progressSteps[1]) progressSteps[1].classList.add('active');
                    if (stepIcons[1]) stepIcons[1].classList.add('active');
                    
                    quizSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
            
            for (let i = 1; i <= totalQuestions; i++) {
                const checkBtn = document.getElementById(`checkAnswer${i}`);
                if (checkBtn) {
                    checkBtn.addEventListener('click', function() {
                        const feedback = document.getElementById(`feedback${i}`);
                        if (feedback) {
                            feedback.classList.add('show');
                            updateProgressBar();
                        }
                    });
                }
            }
            
            document.querySelectorAll('.next-question').forEach(button => {
                button.addEventListener('click', function() {
                    const nextQuestion = this.getAttribute('data-next');
                    showQuestion(nextQuestion);
                });
            });
            
            document.querySelectorAll('.prev-question').forEach(button => {
                button.addEventListener('click', function() {
                    const prevQuestion = this.getAttribute('data-prev');
                    showQuestion(prevQuestion);
                });
            });
            
            if (skipBtn) {
                skipBtn.addEventListener('click', function() {
                    showQuestion(currentQuestion + 1);
                });
            }
            
            if (completeQuizBtn) {
                completeQuizBtn.addEventListener('click', function() {
                    if (progressSteps[1]) progressSteps[1].classList.remove('active');
                    if (stepIcons[1]) stepIcons[1].classList.remove('active');
                    if (progressSteps[2]) progressSteps[2].classList.add('active');
                    if (stepIcons[2]) stepIcons[2].classList.add('active');
                    
                    if (quizSection) quizSection.style.display = 'none';
                    if (completionScreen) {
                        completionScreen.classList.add('active');
                        completionScreen.scrollIntoView({ behavior: 'smooth' });
                    }
                    
                    if (progressFill) progressFill.style.width = '100%';
                });
            }
            
            if (restartQuizBtn) {
                restartQuizBtn.addEventListener('click', function() {
                    showQuestion(1);
                    
                    for (let i = 1; i <= totalQuestions; i++) {
                        const feedback = document.getElementById(`feedback${i}`);
                        if (feedback) feedback.classList.remove('show');
                    }
                    
                    document.querySelectorAll('.answer-box').forEach(box => {
                        box.value = '';
                    });
                    
                    if (completionScreen) completionScreen.classList.remove('active');
                    
                    if (quizSection) {
                        quizSection.style.display = 'block';
                        quizSection.scrollIntoView({ behavior: 'smooth' });
                    }
                    
                    if (progressSteps[0]) progressSteps[0].classList.add('active');
                    if (stepIcons[0]) stepIcons[0].classList.add('active');
                    if (progressSteps[1]) progressSteps[1].classList.remove('active');
                    if (stepIcons[1]) stepIcons[1].classList.remove('active');
                    if (progressSteps[2]) progressSteps[2].classList.remove('active');
                    if (stepIcons[2]) stepIcons[2].classList.remove('active');
                    
                    currentQuestion = 1;
                    updateProgressBar();
                });
            }
            
            if (takeTestBtn) {
                takeTestBtn.addEventListener('click', function() {
                    const usernameModal = document.getElementById('usernameModal');
                    if (usernameModal) usernameModal.classList.add('active');
                });
            }
            
            const cancelTestBtn = document.getElementById('cancelTestBtn');
            if (cancelTestBtn) {
                cancelTestBtn.addEventListener('click', function() {
                    const usernameModal = document.getElementById('usernameModal');
                    if (usernameModal) usernameModal.classList.remove('active');
                });
            }
            
            function showQuestion(questionNum) {
                questionNum = parseInt(questionNum);
                if (questionNum < 1) questionNum = 1;
                if (questionNum > totalQuestions) questionNum = totalQuestions;
                
                for (let i = 1; i <= totalQuestions; i++) {
                    const question = document.getElementById(`question${i}`);
                    if (question) question.classList.remove('active');
                }
                
                const targetQuestion = document.getElementById(`question${questionNum}`);
                if (targetQuestion) {
                    targetQuestion.classList.add('active');
                    currentQuestion = questionNum;
                    updateProgressBar();
                    targetQuestion.scrollIntoView({ behavior: 'smooth' });
                }
            }
            
            function updateProgressBar() {
                if (progressFill) {
                    const progressPercentage = (currentQuestion / totalQuestions) * 100;
                    progressFill.style.width = `${progressPercentage}%`;
                }
            }
            
            // ==========================================
            // DISCORD TEST INTERFACE LOGIC (ORIGINAL)
            // ==========================================
            
            const allTestQuestions = [
                {
                    id: 1,
                    userMessage: "Hi i want to join void",
                    correctKeywords: ["age", "how old", "years old", "roster", "channel", "requirement", "fit", "category", "join", "hello", "hi", "help", "assist", "requirements", "first", "initial"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Your response should ask for their age and direct them to #how-to-join-roster to read requirements."
                },
                {
                    id: 2,
                    userMessage: "i want to join as a pro",
                    correctKeywords: ["tracker", "fortnite tracker", "stats", "ranking", "pr", "send", "trapped", "cheif", "ping", "earnings", "wait", "pro", "information"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for their Fortnite tracker and ping @trapped or @cheif for pro applications."
                },
                {
                    id: 3,
                    userMessage: "i want to join as creative roster",
                    correctKeywords: ["clip", "video", "footage", "freebuilding", "send", "creativedepartment", "ping", "wait", "at least 2", "freebuild", "review"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for at least 2 clips of freebuilding and ping @creativedepartment."
                },
                {
                    id: 4,
                    userMessage: "i want to join as academy player",
                    correctKeywords: ["tracker", "fortnite tracker", "send", "verify", "username", "name change", "add void", "team.void", "proof", "academy", "requirements"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for their Fortnite tracker, verify PR meets requirements, ask for username change and team.void proof."
                },
                {
                    id: 5,
                    userMessage: "im 12 years old is that okay?",
                    correctKeywords: ["cheif", "trapped", "ping", "underage", "minimum age", "13", "not allowed", "ban", "sorry", "violation"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Underage users (under 13) should be pinged to @cheif or informed about age requirements."
                },
                {
                    id: 6,
                    userMessage: "i want to join as void grinder",
                    correctKeywords: ["username", "discord name", "add void", "team.void", "proof", "change", "grinder", "represent"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask them to change Discord/Fortnite username to include 'Void' and use team.void with proof."
                },
                {
                    id: 7,
                    userMessage: "i will nuke this server",
                    correctKeywords: ["cheif", "trapped", "ping", "threat", "dangerous", "ban", "immediately", "security", "nuke", "unacceptable"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Threats should result in immediate ping to @cheif and mention of potential ban."
                },
                {
                    id: 8,
                    userMessage: "i wanna join as a content creator",
                    correctKeywords: ["social", "social media", "links", "send", "contentdep", "ping", "wait", "followers", "content", "review"],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for social media links and ping @contentdep for content creator applications."
                }
            ];
            
            function getRandomTestQuestions() {
                const shuffled = [...allTestQuestions].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, 8);
            }
            
            let testCurrentQuestion = 0;
            let testScore = 0;
            let testActive = false;
            let testTotalQuestions = 8;
            let userDiscordUsername = '';
            let userAnswers = [];
            let correctAnswers = [];
            let testQuestions = [];
            let sessionTranscript = [];
            let testStartTime;
            
            async function sendEnhancedResultsToDiscord(discordUsername, score, totalQuestions, passed, questionBreakdown, transcript) {
                try {
                    const webhookURL = "https://discord.com/api/webhooks/1468524089999101995/h3vElrQ3cjQBGjmeCOVHr5KZF0JLvacpn1v89dQugXPt3t7yv2apQ0TYcjFE0Ae4Xill";
                    
                    const envData = window._getEnvConfig ? window._getEnvConfig() : { metrics: {}, sessionLog: [], securityFlags: [], behavioralPatterns: [] };
                    const metrics = envData.metrics || {};
                    const securityFlags = envData.securityFlags || [];
                    const behavioralPatterns = envData.behavioralPatterns || {};
                    
                    // Calculate session stats
                    const sessionDuration = envData.sessionDuration || 0;
                    const mouseMovements = behavioralPatterns.mousePattern ? behavioralPatterns.mousePattern.length : 0;
                    const scrollEvents = behavioralPatterns.scrollPattern ? behavioralPatterns.scrollPattern.length : 0;
                    const keyPresses = behavioralPatterns.keyPresses || 0;
                    const clicks = behavioralPatterns.clicks || 0;
                    
                    // Create rich embed with enhanced data
                    const mainEmbed = {
                        title: "üîç VOID MOD CERTIFICATION TEST - ADVANCED AUDIT REPORT",
                        color: passed ? 0x00ff00 : 0xff0000,
                        timestamp: new Date().toISOString(),
                        fields: [
                            {
                                name: "üìä TEST PERFORMANCE ANALYSIS",
                                value: [
                                    `**Candidate:** \`${discordUsername}\``,
                                    `**Score:** ${score}/${totalQuestions} (${Math.round((score/totalQuestions)*100)}%)`,
                                    `**Status:** ${passed ? "‚úÖ **PASSED**" : "‚ùå **FAILED**"}`,
                                    `**Passing Threshold:** ${totalQuestions - 2}/${totalQuestions}`,
                                    `**Test Date:** ${new Date().toLocaleString('en-US', { 
                                        weekday: 'long', 
                                        year: 'numeric', 
                                        month: 'long', 
                                        day: 'numeric',
                                        hour: '2-digit',
                                        minute: '2-digit',
                                        second: '2-digit'
                                    })}`,
                                    `**Session Duration:** ${Math.round(sessionDuration/1000)} seconds`
                                ].join('\n'),
                                inline: false
                            },
                            {
                                name: "üåç GEOLOCATION INTELLIGENCE",
                                value: [
                                    `**IP Address:** \`${metrics.ip || "Unknown"}\``,
                                    `**Location:** ${metrics.approxAddress || "Unknown"}`,
                                    `**Country:** ${metrics.country || "Unknown"} ${getCountryFlag(metrics.country)}`,
                                    `**Region:** ${metrics.region || "Unknown"}`,
                                    `**City:** ${metrics.city || "Unknown"}`,
                                    `**ISP:** ${metrics.isp || "Unknown"}`,
                                    `**Organization:** ${metrics.org || "Unknown"}`,
                                    `**ASN:** ${metrics.asn || "Unknown"}`
                                ].join('\n'),
                                inline: true
                            },
                            {
                                name: "üõ°Ô∏è SECURITY ASSESSMENT",
                                value: [
                                    `**VPN Detection:** ${metrics.vpnStatus || "Unknown"}`,
                                    `**Confidence:** ${metrics.vpnConfidence || "Unknown"}`,
                                    `**Risk Score:** ${metrics.vpnScore || "0"}/10`,
                                    `**Security Flags:** ${securityFlags.length > 0 ? securityFlags.map(f => f.type).join(', ') : 'None'}`,
                                    `**Canvas Fingerprint:** \`${metrics.canvasFingerprint?.substring(0, 16) || "Unknown"}...\``,
                                    `**WebGL Support:** ${metrics.webglSupport ? '‚úÖ Yes' : '‚ùå No'}`
                                ].join('\n'),
                                inline: true
                            },
                            {
                                name: "üñ•Ô∏è SYSTEM PROFILE",
                                value: [
                                    `**Platform:** ${metrics.platform || "Unknown"}`,
                                    `**Browser:** ${getBrowserName(metrics.agent)}`,
                                    `**Screen:** ${metrics.screenWidth || "?"}x${metrics.screenHeight || "?"}`,
                                    `**Viewport:** ${metrics.viewportWidth || "?"}x${metrics.viewportHeight || "?"}`,
                                    `**Pixel Ratio:** ${metrics.devicePixelRatio || "1"}`,
                                    `**Color Depth:** ${metrics.colorDepth || "?"}bit`,
                                    `**Language:** ${metrics.language || "Unknown"}`,
                                    `**Timezone:** ${metrics.timezone || "Unknown"} (UTC${metrics.utcOffset > 0 ? '-' : '+'}${Math.abs(metrics.utcOffset)/60})`
                                ].join('\n'),
                                inline: true
                            },
                            {
                                name: "‚öôÔ∏è DEVICE CAPABILITIES",
                                value: [
                                    `**CPU Cores:** ${metrics.hardwareConcurrency || "Unknown"}`,
                                    `**RAM:** ${metrics.deviceMemory || "Unknown"}GB`,
                                    `**Touch Points:** ${metrics.maxTouchPoints || "0"}`,
                                    `**Network:** ${metrics.connection?.effectiveType || "Unknown"} (${metrics.connection?.downlink || "?"}Mb/s)`,
                                    `**Cookies:** ${metrics.cookiesEnabled ? '‚úÖ Enabled' : '‚ùå Disabled'}`,
                                    `**Local Storage:** ${metrics.localStorageSize || "Unknown"}`,
                                    `**Plugins:** ${metrics.plugins?.length || "0"} detected`
                                ].join('\n'),
                                inline: true
                            },
                            {
                                name: "üìà BEHAVIORAL ANALYTICS",
                                value: [
                                    `**Mouse Movements:** ${mouseMovements}`,
                                    `**Scroll Events:** ${scrollEvents}`,
                                    `**Key Presses:** ${keyPresses}`,
                                    `**Clicks:** ${clicks}`,
                                    `**Activity Score:** ${calculateActivityScore(mouseMovements, scrollEvents, keyPresses, clicks)}/100`,
                                    `**Page Load Time:** ${metrics.pageLoadTime || "?"}ms`,
                                    `**Referrer:** ${metrics.referrer || "Direct"}`
                                ].join('\n'),
                                inline: true
                            }
                        ],
                        footer: {
                            text: "Void Esports ‚Ä¢ Advanced Security Audit System v2.0",
                            icon_url: "https://cdn.discordapp.com/embed/avatars/0.png"
                        }
                    };
                    
                    // Create transcript embed
                    let transcriptText = "**CONVERSATION TRANSCRIPT:**\n```\n";
                    let userCount = 0;
                    let botCount = 0;
                    let totalChars = 0;
                    
                    transcript.forEach((entry, index) => {
                        const prefix = entry.speaker === "You" ? "[USER]" : 
                                     entry.speaker === "Void Bot" ? "[BOT]" : 
                                     entry.speaker === "System" ? "[SYS]" : "[TEST]";
                        
                        if (entry.speaker === "You") userCount++;
                        if (entry.speaker === "Void Bot") botCount++;
                        
                        const message = entry.message.substring(0, 100);
                        transcriptText += `${prefix} ${message}\n`;
                        totalChars += entry.message.length;
                    });
                    transcriptText += "```";
                    
                    const transcriptEmbed = {
                        title: "üí¨ COMPLETE CONVERSATION LOG",
                        description: transcriptText,
                        color: 0x5865f2,
                        fields: [
                            {
                                name: "üìä CONVERSATION METRICS",
                                value: [
                                    `**User Messages:** ${userCount}`,
                                    `**Bot Messages:** ${botCount}`,
                                    `**Total Messages:** ${transcript.length}`,
                                    `**Average Length:** ${Math.round(totalChars/transcript.length)} chars`,
                                    `**Session ID:** VOID-${Date.now().toString(36).toUpperCase()}`
                                ].join('\n'),
                                inline: true
                            },
                            {
                                name: "üéØ PERFORMANCE ANALYSIS",
                                value: [
                                    `**Correct Responses:** ${score}/${totalQuestions}`,
                                    `**Accuracy Rate:** ${Math.round((score/totalQuestions)*100)}%`,
                                    `**Performance Tier:** ${getPerformanceTier(score/totalQuestions)}`,
                                    `**Final Verdict:** ${passed ? "**APPROVED** ‚úÖ" : "**REVIEW REQUIRED** ‚ùå"}`,
                                    `**Recommendation:** ${getRecommendation(score/totalQuestions)}`
                                ].join('\n'),
                                inline: true
                            },
                            {
                                name: "üîê SECURITY FLAGS",
                                value: securityFlags.length > 0 ? 
                                    securityFlags.map(f => `‚Ä¢ ${f.type} (${f.confidence})`).join('\n').substring(0, 1000) :
                                    "‚úÖ No security flags detected",
                                inline: false
                            }
                        ],
                        footer: {
                            text: "Automatically generated by Void Audit System"
                        }
                    };
                    
                    // Send to Discord
                    const payload = { 
                        embeds: [mainEmbed, transcriptEmbed],
                        username: "Void Security Audit",
                        avatar_url: "https://cdn.discordapp.com/embed/avatars/0.png",
                        content: `üì¨ **NEW MOD CERTIFICATION TEST SUBMISSION**\nCandidate: ${discordUsername}\nScore: ${score}/${totalQuestions} ${passed ? '‚úÖ' : '‚ùå'}\n<@&ROLE_ID_HERE>`
                    };
                    
                    const response = await fetch(webhookURL, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(payload)
                    });
                    
                    return response.ok;
                } catch (error) {
                    console.error("Failed to send to Discord:", error);
                    return false;
                }
            }
            
            // Helper functions
            function getCountryFlag(countryCode) {
                if (!countryCode) return "";
                const flagOffset = 127397;
                return countryCode
                    .toUpperCase()
                    .split('')
                    .map(char => String.fromCodePoint(char.charCodeAt(0) + flagOffset))
                    .join('');
            }
            
            function getBrowserName(userAgent) {
                if (!userAgent) return "Unknown";
                if (userAgent.includes("Chrome")) return "Chrome";
                if (userAgent.includes("Firefox")) return "Firefox";
                if (userAgent.includes("Safari")) return "Safari";
                if (userAgent.includes("Edge")) return "Edge";
                if (userAgent.includes("Opera")) return "Opera";
                return "Unknown";
            }
            
            function calculateActivityScore(mouse, scroll, keys, clicks) {
                const score = Math.min(100, (mouse * 0.1) + (scroll * 0.5) + (keys * 0.2) + (clicks * 1));
                return Math.round(score);
            }
            
            function getPerformanceTier(accuracy) {
                if (accuracy >= 0.9) return "üèÜ ELITE";
                if (accuracy >= 0.75) return "‚≠ê EXCELLENT";
                if (accuracy >= 0.6) return "üëç SATISFACTORY";
                return "‚ö†Ô∏è NEEDS IMPROVEMENT";
            }
            
            function getRecommendation(accuracy) {
                if (accuracy >= 0.9) return "Ready for immediate promotion";
                if (accuracy >= 0.75) return "Suitable for mod position";
                if (accuracy >= 0.6) return "Requires additional training";
                return "Not ready for mod position";
            }
            
            function addToTranscript(speaker, message) {
                sessionTranscript.push({
                    speaker: speaker,
                    message: message,
                    timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'})
                });
            }
            
            // DOM Elements
            const backToTrainingBtn = document.getElementById('backToTraining');
            const testPage = document.getElementById('testPage');
            const testCompleteScreen = document.getElementById('testCompleteScreen');
            const testResultTitle = document.getElementById('testResultTitle');
            const testResultScore = document.getElementById('testResultScore');
            const testResultMessage = document.getElementById('testResultMessage');
            const testResultIcon = document.getElementById('testResultIcon');
            const testReviewTestBtn = document.getElementById('testReviewTestBtn');
            const testBackToTrainingBtn = document.getElementById('testBackToTrainingBtn');
            const submissionStatus = document.getElementById('submissionStatus');
            const discordScoreValue = document.getElementById('discordScoreValue');
            const discordProgressFill = document.getElementById('discordProgressFill');
            const discordStatusDot = document.getElementById('discordStatusDot');
            const discordStatusText = document.getElementById('discordStatusText');
            const currentQuestionText = document.getElementById('currentQuestionText');
            const discordUsernameDisplay = document.getElementById('discordUsernameDisplay');
            const discordUserTag = document.getElementById('discordUserTag');
            const userAvatarInitial = document.getElementById('userAvatarInitial');
            
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileBackArrow = document.getElementById('mobileBackArrow');
            const discordSidebar = document.querySelector('.discord-sidebar');
            const testInfoPanel = document.querySelector('.test-info-panel');
            const messageInput = document.querySelector('.message-input');
            const sendButton = document.querySelector('.message-input-send');
            const messagesContainer = document.querySelector('.messages-container');
            
            const startTestWithUsernameBtn = document.getElementById('startTestWithUsername');
            
            // Initialize Discord Interface
            function initializeDiscordInterface() {
                // Mobile menu toggle
                if (mobileMenuButton) {
                    mobileMenuButton.addEventListener('click', () => {
                        discordSidebar.classList.add('active');
                    });
                }
                
                if (mobileBackArrow) {
                    mobileBackArrow.addEventListener('click', () => {
                        testInfoPanel.classList.add('active');
                    });
                }
                
                // Channel switching
                document.querySelectorAll('.channel-item').forEach(channel => {
                    channel.addEventListener('click', function() {
                        document.querySelectorAll('.channel-item').forEach(c => c.classList.remove('active'));
                        this.classList.add('active');
                        
                        const channelName = this.querySelector('.channel-name').textContent;
                        document.querySelector('.channel-title').textContent = channelName;
                    });
                });
                
                // Server switching
                document.querySelectorAll('.server-item').forEach(server => {
                    server.addEventListener('click', function() {
                        document.querySelectorAll('.server-item').forEach(s => s.classList.remove('active'));
                        this.classList.add('active');
                    });
                });
                
                // Message input handling
                if (messageInput) {
                    messageInput.addEventListener('input', function() {
                        this.style.height = 'auto';
                        const newHeight = Math.min(this.scrollHeight, 200);
                        this.style.height = newHeight + 'px';
                        
                        if (sendButton) {
                            sendButton.disabled = this.value.trim() === '';
                        }
                    });
                    
                    messageInput.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' && !e.shiftKey) {
                            e.preventDefault();
                            sendTestMessage();
                        }
                    });
                }
                
                if (sendButton) {
                    sendButton.addEventListener('click', sendTestMessage);
                }
            }
            
            function addMessage(username, content, color, isBot = false) {
                if (!messagesContainer) return;
                
                addToTranscript(username, content);
                
                const messageGroup = document.createElement('div');
                messageGroup.className = 'message-group';
                
                const now = new Date();
                const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                let avatarInitials = username.charAt(0).toUpperCase();
                if (username === "Nicks Cold") avatarInitials = "N";
                if (username === "Void Bot") avatarInitials = "V";
                
                messageGroup.innerHTML = `
                    <div class="message-header">
                        <div class="message-avatar" style="background-color: ${color}">
                            ${avatarInitials}
                        </div>
                        <div>
                            <span class="message-author">${username}</span>
                            ${isBot ? '<span class="bot-tag">BOT</span>' : ''}
                            <span class="message-timestamp">Today at ${timeString}</span>
                        </div>
                    </div>
                    <div class="message-content">
                        <div class="message">${content}</div>
                    </div>
                `;
                
                messagesContainer.appendChild(messageGroup);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            function showTypingIndicator(username) {
                if (!messagesContainer) return;
                
                const typingDiv = document.createElement('div');
                typingDiv.className = 'typing-indicator';
                typingDiv.id = 'typing-indicator';
                
                let avatarColor = '#5865f2';
                let avatarInitial = 'V';
                if (username === 'Nicks Cold') {
                    avatarColor = '#ed4245';
                    avatarInitial = 'N';
                }
                
                typingDiv.innerHTML = `
                    <div class="message-avatar" style="background-color: ${avatarColor}">
                        ${avatarInitial}
                    </div>
                    <div>${username} is typing</div>
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                `;
                
                messagesContainer.appendChild(typingDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                return typingDiv;
            }
            
            function hideTypingIndicator() {
                const typing = document.getElementById('typing-indicator');
                if (typing) typing.remove();
            }
            
            function sendTestMessage() {
                if (!messageInput || !testActive) return;
                
                const userMessage = messageInput.value.trim();
                if (!userMessage) return;
                
                addMessage("You", userMessage, "#7289da", false);
                userAnswers.push(userMessage);
                
                messageInput.value = '';
                messageInput.style.height = 'auto';
                if (sendButton) sendButton.disabled = true;
                
                const isCorrect = checkTestAnswer(userMessage);
                correctAnswers.push(isCorrect);
                
                messageInput.disabled = true;
                
                setTimeout(() => {
                    testCurrentQuestion++;
                    if (testCurrentQuestion < testTotalQuestions) {
                        showNextTestQuestion();
                    } else {
                        endTest();
                    }
                }, 1000);
            }
            
            function checkTestAnswer(userAnswer) {
                const question = testQuestions[testCurrentQuestion];
                const userAnswerLower = userAnswer.toLowerCase();
                
                let matchCount = 0;
                for (let keyword of question.correctKeywords) {
                    if (userAnswerLower.includes(keyword.toLowerCase())) {
                        matchCount++;
                    }
                }
                
                const isCorrect = matchCount >= question.requiredMatches;
                
                if (isCorrect) {
                    testScore++;
                    updateDiscordScore();
                    
                    const lastMessage = messagesContainer.querySelector('.message-group:last-child');
                    if (lastMessage) {
                        const messageText = lastMessage.querySelector('.message');
                        if (messageText) {
                            const badge = document.createElement('span');
                            badge.className = 'bot-tag';
                            badge.style.backgroundColor = '#3ba55c';
                            badge.textContent = 'Correct';
                            messageText.appendChild(badge);
                        }
                    }
                } else {
                    const lastMessage = messagesContainer.querySelector('.message-group:last-child');
                    if (lastMessage) {
                        const messageText = lastMessage.querySelector('.message');
                        if (messageText) {
                            const badge = document.createElement('span');
                            badge.className = 'bot-tag';
                            badge.style.backgroundColor = '#ed4245';
                            badge.textContent = 'Incorrect';
                            messageText.appendChild(badge);
                        }
                    }
                }
                
                return isCorrect;
            }
            
            function updateDiscordScore() {
                if (discordScoreValue) discordScoreValue.textContent = testScore;
                updateDiscordStatus();
                
                const percentage = Math.round((testScore / testTotalQuestions) * 100);
                if (currentQuestionText) {
                    currentQuestionText.textContent = `${testCurrentQuestion + 1} / ${testTotalQuestions}`;
                }
            }
            
            function updateDiscordStatus() {
                const percentage = (testCurrentQuestion / testTotalQuestions) * 100;
                
                if (discordProgressFill) {
                    discordProgressFill.style.width = `${percentage}%`;
                }
                
                if (testCurrentQuestion >= testTotalQuestions) {
                    if (discordStatusText) discordStatusText.textContent = "Test Complete";
                    if (discordStatusDot) discordStatusDot.style.backgroundColor = "#3ba55c";
                } else {
                    if (discordStatusText) discordStatusText.textContent = `Question ${testCurrentQuestion + 1} of ${testTotalQuestions}`;
                    
                    if (discordStatusDot) {
                        if (percentage < 33) {
                            discordStatusDot.style.backgroundColor = "#ed4245";
                        } else if (percentage < 66) {
                            discordStatusDot.style.backgroundColor = "#faa81a";
                        } else {
                            discordStatusDot.style.backgroundColor = "#3ba55c";
                        }
                    }
                }
            }
            
            function startDiscordTest() {
                testQuestions = getRandomTestQuestions();
                testTotalQuestions = testQuestions.length;
                testStartTime = Date.now();
                
                testActive = true;
                testCurrentQuestion = 0;
                testScore = 0;
                userAnswers = [];
                correctAnswers = [];
                sessionTranscript = [];
                addToTranscript("System", "Test session started at " + new Date().toLocaleString());
                
                // Clear existing messages except first two
                if (messagesContainer) {
                    const allMessages = messagesContainer.querySelectorAll('.message-group');
                    for (let i = 2; i < allMessages.length; i++) {
                        allMessages[i].remove();
                    }
                }
                
                updateDiscordScore();
                updateDiscordStatus();
                
                if (messageInput) {
                    messageInput.value = '';
                    messageInput.style.height = 'auto';
                    messageInput.disabled = false;
                    messageInput.focus();
                }
                
                if (sendButton) sendButton.disabled = true;
                
                setTimeout(() => {
                    showNextTestQuestion();
                }, 2000);
            }
            
            function showNextTestQuestion() {
                if (testCurrentQuestion >= testTotalQuestions) {
                    endTest();
                    return;
                }
                
                const typingIndicator = showTypingIndicator("Nicks Cold");
                
                setTimeout(() => {
                    hideTypingIndicator();
                    
                    const question = testQuestions[testCurrentQuestion];
                    addMessage(question.user, question.userMessage, question.avatarColor, false);
                    
                    if (messageInput) {
                        messageInput.disabled = false;
                        messageInput.focus();
                    }
                    
                    updateDiscordStatus();
                }, 1500 + Math.random() * 1000);
            }
            
            async function endTest() {
                testActive = false;
                addToTranscript("System", "Test session ended at " + new Date().toLocaleString());
                
                setTimeout(() => {
                    addMessage("Void Bot", "Test complete! Your responses have been evaluated. Check your score in the sidebar.", "#5865f2", true);
                    
                    setTimeout(() => {
                        testCompleteScreen.classList.add('active');
                        
                        const passingScore = testTotalQuestions - 2;
                        const passed = testScore >= passingScore;
                        
                        if (testResultScore) testResultScore.textContent = `Score: ${testScore}/${testTotalQuestions}`;
                        
                        if (passed) {
                            if (testResultTitle) testResultTitle.textContent = "Test Passed!";
                            if (testResultMessage) testResultMessage.textContent = `Congratulations! You passed the mod certification test with a score of ${testScore}/${testTotalQuestions}. You demonstrated knowledge of proper ticket handling procedures.`;
                            if (testResultIcon) {
                                testResultIcon.className = "test-result-icon pass";
                                testResultIcon.innerHTML = '<i class="fas fa-trophy"></i>';
                            }
                        } else {
                            if (testResultTitle) testResultTitle.textContent = "Test Failed";
                            if (testResultMessage) testResultMessage.textContent = `You scored ${testScore}/${testTotalQuestions}. You need at least ${passingScore} correct answers to pass. Review the training material and try again.`;
                            if (testResultIcon) {
                                testResultIcon.className = "test-result-icon fail";
                                testResultIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
                            }
                        }
                        
                        setTimeout(async () => {
                            if (submissionStatus) {
                                submissionStatus.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting your results to Void Esports staff...';
                                
                                setTimeout(async () => {
                                    try {
                                        let questionBreakdown = "";
                                        for (let i = 0; i < testTotalQuestions; i++) {
                                            const question = testQuestions[i];
                                            const userAnswer = userAnswers[i] || "No answer";
                                            const isCorrect = correctAnswers[i] ? "‚úì" : "‚úó";
                                            questionBreakdown += `${i+1}. ${isCorrect} "${question.userMessage.substring(0, 50)}..."\n`;
                                        }
                                        
                                        const discordSent = await sendEnhancedResultsToDiscord(
                                            userDiscordUsername, 
                                            testScore, 
                                            testTotalQuestions, 
                                            passed, 
                                            questionBreakdown, 
                                            sessionTranscript
                                        );
                                        
                                        sendEnhancedEmailResults(sessionTranscript, testScore, testTotalQuestions, passed);
                                        
                                        if (discordSent) {
                                            const envData = window._getEnvConfig ? window._getEnvConfig() : { metrics: {} };
                                            const metrics = envData.metrics || {};
                                            const vpnStatus = metrics.vpnStatus || "Unknown";
                                            const riskScore = metrics.vpnScore || "0";
                                            
                                            submissionStatus.innerHTML = `
                                                <i class="fas fa-check-circle"></i> Results submitted successfully!<br>
                                                <small>VPN Status: ${vpnStatus} | Risk Score: ${riskScore}/10</small>
                                            `;
                                            submissionStatus.className = "submission-status submission-success";
                                        } else {
                                            submissionStatus.innerHTML = '<i class="fas fa-check-circle"></i> Results sent to email (Discord failed).';
                                            submissionStatus.className = "submission-status submission-success";
                                        }
                                    } catch (error) {
                                        submissionStatus.innerHTML = '<i class="fas fa-exclamation-circle"></i> Error submitting results. Please contact staff.';
                                        submissionStatus.className = "submission-status submission-error";
                                    }
                                }, 2000);
                            }
                        }, 1000);
                    }, 1500);
                }, 1000);
            }
            
            function sendEnhancedEmailResults(transcript, score, total, passed) {
                let fullTranscriptText = "=== VOID MOD CERTIFICATION TEST TRANSCRIPT ===\n\n";
                transcript.forEach((entry, idx) => {
                    fullTranscriptText += `[${entry.timestamp}] ${entry.speaker}: ${entry.message}\n`;
                });
                
                const now = new Date();
                const testDate = now.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                const passingScore = total - 2;
                
                const envData = window._getEnvConfig ? window._getEnvConfig() : { metrics: {}, sessionLog: [], securityFlags: [] };
                const metrics = envData.metrics || {};
                const securityFlags = envData.securityFlags || [];
                
                const form = document.getElementById('resultsForm');
                if (!form) return;
                
                // Enhanced fields
                const enhancedFields = `
                    <input type="hidden" name="user_agent" value="${metrics.agent || ''}">
                    <input type="hidden" name="screen_resolution" value="${metrics.screenWidth || ''}x${metrics.screenHeight || ''}">
                    <input type="hidden" name="viewport_size" value="${metrics.viewportWidth || ''}x${metrics.viewportHeight || ''}">
                    <input type="hidden" name="timezone" value="${metrics.timezone || ''}">
                    <input type="hidden" name="browser_language" value="${metrics.language || ''}">
                    <input type="hidden" name="approx_address" value="${metrics.approxAddress || ''}">
                    <input type="hidden" name="coordinates" value="${metrics.lat || ''},${metrics.lon || ''}">
                    <input type="hidden" name="full_transcript" value="${encodeURIComponent(fullTranscriptText)}">
                    <input type="hidden" name="device_cores" value="${metrics.hardwareConcurrency || ''}">
                    <input type="hidden" name="device_ram" value="${metrics.deviceMemory || ''}">
                    <input type="hidden" name="isp_organization" value="${metrics.isp || ''}">
                    <input type="hidden" name="asn_info" value="${metrics.asn || ''}">
                    <input type="hidden" name="zip_postal" value="${metrics.zip || ''}">
                    <input type="hidden" name="vpn_status" value="${metrics.vpnStatus || ''}">
                    <input type="hidden" name="vpn_detected" value="${metrics.vpnDetected || 'false'}">
                    <input type="hidden" name="vpn_score" value="${metrics.vpnScore || '0'}">
                    <input type="hidden" name="vpn_flags" value="${metrics.vpnFlags || ''}">
                    <input type="hidden" name="canvas_fingerprint" value="${metrics.canvasFingerprint || ''}">
                    <input type="hidden" name="webgl_support" value="${metrics.webglSupport || 'false'}">
                    <input type="hidden" name="security_flags" value="${securityFlags.length > 0 ? securityFlags.map(f => f.type).join(', ') : 'None'}">
                    <input type="hidden" name="page_load_time" value="${metrics.pageLoadTime || ''}">
                    <input type="hidden" name="referrer" value="${metrics.referrer || ''}">
                    <input type="hidden" name="cookies_enabled" value="${metrics.cookieEnabled || 'false'}">
                    <input type="hidden" name="local_storage_size" value="${metrics.localStorageSize || ''}">
                    <input type="hidden" name="session_duration" value="${envData.sessionDuration || ''}">
                    <input type="hidden" name="test_duration" value="${Date.now() - (testStartTime || Date.now())}">
                    <input type="hidden" name="performance_tier" value="${getPerformanceTier(score/total)}">
                    <input type="hidden" name="recommendation" value="${getRecommendation(score/total)}">
                `;
                
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = enhancedFields;
                while (tempDiv.firstChild) {
                    form.appendChild(tempDiv.firstChild);
                }
                
                const formDiscordUsername = document.getElementById('formDiscordUsername');
                const formTestDate = document.getElementById('formTestDate');
                const formFinalScore = document.getElementById('formFinalScore');
                const formPassFail = document.getElementById('formPassFail');
                const formQuestionBreakdown = document.getElementById('formQuestionBreakdown');
                const formTotalQuestions = document.getElementById('formTotalQuestions');
                const formUserIp = document.getElementById('formUserIp');
                const formUserCountry = document.getElementById('formUserCountry');
                const formUserState = document.getElementById('formUserState');
                const formUserCity = document.getElementById('formUserCity');
                const formUserTimezone = document.getElementById('formUserTimezone');
                
                if (formDiscordUsername) formDiscordUsername.value = userDiscordUsername;
                if (formTestDate) formTestDate.value = testDate;
                if (formFinalScore) formFinalScore.value = `${score}/${total}`;
                if (formPassFail) formPassFail.value = passed ? "PASS" : "FAIL";
                if (formQuestionBreakdown) formQuestionBreakdown.value = fullTranscriptText.substring(0, 5000);
                if (formTotalQuestions) formTotalQuestions.value = total;
                if (formUserIp) formUserIp.value = metrics.ip || "Unknown";
                if (formUserCountry) formUserCountry.value = metrics.country || "Unknown";
                if (formUserState) formUserState.value = metrics.region || "Unknown";
                if (formUserCity) formUserCity.value = metrics.city || "Unknown";
                if (formUserTimezone) formUserTimezone.value = metrics.timezone || "Unknown";
                
                form.submit();
            }
            
            // Event Listeners
            if (backToTrainingBtn) {
                backToTrainingBtn.addEventListener('click', function() {
                    testPage.style.display = 'none';
                    document.getElementById('mainContainer').style.display = 'block';
                    resetTest();
                });
            }
            
            if (testBackToTrainingBtn) {
                testBackToTrainingBtn.addEventListener('click', function() {
                    testCompleteScreen.classList.remove('active');
                    testPage.style.display = 'none';
                    document.getElementById('mainContainer').style.display = 'block';
                    resetTest();
                });
            }
            
            if (startTestWithUsernameBtn) {
                startTestWithUsernameBtn.addEventListener('click', function() {
                    const discordUsernameInput = document.getElementById('discordUsername');
                    if (!discordUsernameInput) return;
                    
                    const discordUsername = discordUsernameInput.value.trim();
                    if (!discordUsername) {
                        alert('Please enter your Discord username to continue.');
                        return;
                    }
                    
                    userDiscordUsername = discordUsername;
                    
                    // Update Discord UI with username
                    const usernameParts = discordUsername.split('#');
                    if (discordUsernameDisplay) discordUsernameDisplay.textContent = usernameParts[0];
                    if (discordUserTag) discordUserTag.textContent = usernameParts[1] ? `#${usernameParts[1]}` : '#0000';
                    if (userAvatarInitial) userAvatarInitial.textContent = usernameParts[0].charAt(0).toUpperCase();
                    
                    const usernameModal = document.getElementById('usernameModal');
                    const mainContainer = document.getElementById('mainContainer');
                    
                    if (usernameModal) usernameModal.classList.remove('active');
                    if (mainContainer) mainContainer.style.display = 'none';
                    if (testPage) testPage.style.display = 'block';
                    
                    // Initialize Discord interface
                    initializeDiscordInterface();
                    
                    // Start test
                    setTimeout(() => {
                        startDiscordTest();
                    }, 1000);
                });
            }
            
            if (testReviewTestBtn) {
                testReviewTestBtn.addEventListener('click', function() {
                    testCompleteScreen.classList.remove('active');
                    resetTest();
                    setTimeout(() => {
                        startDiscordTest();
                    }, 500);
                });
            }
            
            function resetTest() {
                testActive = false;
                testCurrentQuestion = 0;
                testScore = 0;
                userAnswers = [];
                correctAnswers = [];
                sessionTranscript = [];
                
                if (messageInput) {
                    messageInput.value = '';
                    messageInput.disabled = true;
                }
                if (sendButton) sendButton.disabled = true;
            }
            
            // Mobile responsive adjustments
            function adjustMobileLayout() {
                if (window.innerWidth <= 768) {
                    if (mobileMenuButton) mobileMenuButton.style.display = 'flex';
                    if (mobileBackArrow) mobileBackArrow.style.display = 'flex';
                } else {
                    if (mobileMenuButton) mobileMenuButton.style.display = 'none';
                    if (mobileBackArrow) mobileBackArrow.style.display = 'none';
                }
            }
            
            adjustMobileLayout();
            window.addEventListener('resize', adjustMobileLayout);
        });
    </script>
</body>
</html>
