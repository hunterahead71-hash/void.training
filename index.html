<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Void Mod Training</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;600;700&family=Roboto+Mono:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #8a2be2;
            --secondary: #4a00e0;
            --accent: #00d4ff;
            --dark: #0f0f1e;
            --light: #f0f4ff;
            --success: #00ffaa;
            --warning: #ffaa00;
            --card-bg: rgba(30, 30, 46, 0.8);
            --border-color: rgba(138, 43, 226, 0.3);
            
            /* Discord colors for test page */
            --discord-bg: #36393f;
            --discord-sidebar: #202225;
            --discord-chat-bg: #36393f;
            --discord-message-bg: #2f3136;
            --discord-text-primary: #dcddde;
            --discord-text-secondary: #72767d;
            --discord-blue: #5865f2;
            --discord-green: #3ba55c;
            --discord-red: #ed4245;
            --discord-yellow: #faa81a;
            --discord-border: #202225;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a2e 100%);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            text-align: center;
            padding: 50px 20px 30px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M50 50c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10zM10 10c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10S0 25.523 0 20s4.477-10 10-10zm10 8c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm40 40c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            position: relative;
        }
        
        .header p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        .made-by {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 10px;
            font-style: italic;
        }
        
        .progress-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: 30px auto;
            position: relative;
        }
        
        .progress-bar {
            flex-grow: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 0 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--accent), var(--success));
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.5);
            transition: color 0.3s ease;
        }
        
        .progress-step.active {
            color: var(--accent);
        }
        
        .step-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.1);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .step-icon.active {
            background: var(--accent);
            color: var(--dark);
        }
        
        /* Content Sections */
        .content-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        
        .section-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            margin-bottom: 25px;
            color: var(--accent);
            display: flex;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(138, 43, 226, 0.5);
        }
        
        .section-title i {
            margin-right: 15px;
            color: var(--primary);
        }
        
        .intro-text {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        .ticket-types {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .ticket-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(138, 43, 226, 0.2);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        
        .ticket-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        
        .ticket-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--accent);
            display: flex;
            align-items: center;
        }
        
        .ticket-card h3 i {
            margin-right: 10px;
        }
        
        /* New Mod Requirements Sections */
        .mod-requirements {
            margin: 40px 0;
        }
        
        .requirement-section {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(138, 43, 226, 0.2);
            transition: all 0.3s ease;
        }
        
        .requirement-section:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.1);
        }
        
        .requirement-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent);
            display: flex;
            align-items: center;
        }
        
        .requirement-title i {
            margin-right: 12px;
            color: var(--primary);
        }
        
        .requirement-content {
            font-size: 1.1rem;
            line-height: 1.7;
            padding-left: 10px;
        }
        
        .requirement-list {
            list-style-type: none;
            margin: 15px 0;
        }
        
        .requirement-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }
        
        .requirement-list li:before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-size: 1.5rem;
        }
        
        .weekly-requirements {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent);
            margin-top: 10px;
        }
        
        /* Roster Categories */
        .roster-categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .roster-card {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(138, 43, 226, 0.2);
            transition: all 0.3s ease;
        }
        
        .roster-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.1);
        }
        
        .roster-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .roster-icon {
            font-size: 2rem;
            margin-right: 15px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(138, 43, 226, 0.2);
            border-radius: 12px;
        }
        
        .roster-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--light);
        }
        
        .roster-requirements {
            list-style-type: none;
        }
        
        .roster-requirements li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }
        
        .roster-requirements li:before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-size: 1.5rem;
        }
        
        /* Training Quiz */
        .training-quiz {
            margin-top: 50px;
        }
        
        .quiz-instructions {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--accent);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .quiz-instructions h3 {
            color: var(--accent);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .quiz-instructions h3 i {
            margin-right: 10px;
        }
        
        .question-card {
            background: rgba(30, 30, 46, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(138, 43, 226, 0.3);
            display: none;
        }
        
        .question-card.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(138, 43, 226, 0.5);
        }
        
        .question-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--accent);
        }
        
        .question-number {
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
        }
        
        .question-description {
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.7;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .answer-box {
            width: 100%;
            min-height: 150px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(138, 43, 226, 0.5);
            border-radius: 10px;
            color: var(--light);
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 25px;
            transition: border-color 0.3s ease;
        }
        
        .answer-box:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        .quiz-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        
        .btn {
            padding: 14px 30px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn i {
            margin-right: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .btn-success {
            background: linear-gradient(90deg, #00b09b, #96c93d);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 176, 155, 0.4);
        }
        
        .btn-test {
            background: linear-gradient(90deg, #ff6b6b, #ffa726);
            color: white;
        }
        
        .btn-test:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }
        
        .answer-feedback {
            margin-top: 25px;
            padding: 25px;
            border-radius: 12px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .answer-feedback.show {
            display: block;
        }
        
        .feedback-correct {
            background: rgba(0, 255, 170, 0.1);
            border: 1px solid var(--success);
        }
        
        .feedback-title {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .feedback-title i {
            margin-right: 10px;
        }
        
        .correct-answer {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid var(--success);
        }
        
        .correction-note {
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid var(--warning);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.95rem;
        }
        
        /* Completion Screen */
        .completion-screen {
            text-align: center;
            padding: 60px 40px;
            display: none;
        }
        
        .completion-screen.active {
            display: block;
            animation: fadeIn 0.8s ease;
        }
        
        .completion-icon {
            font-size: 5rem;
            color: var(--success);
            margin-bottom: 30px;
            animation: bounce 1s ease infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }
        
        .completion-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--accent);
        }
        
        .completion-message {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 40px;
            line-height: 1.8;
        }
        
        .completion-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* Test Page Styles */
        .test-page {
            display: none;
            font-family: 'Roboto', sans-serif;
            background-color: var(--discord-bg);
            color: var(--discord-text-primary);
            height: 100vh;
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            overflow: hidden;
        }
        
        .test-container {
            display: flex;
            height: 100vh;
            width: 100%;
        }
        
        /* Discord Username Modal */
        .username-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .username-modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: var(--discord-bg);
            padding: 40px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            border: 1px solid var(--discord-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: white;
            text-align: center;
        }
        
        .modal-description {
            color: var(--discord-text-secondary);
            margin-bottom: 25px;
            text-align: center;
            line-height: 1.6;
        }
        
        .username-input-container {
            margin-bottom: 25px;
        }
        
        .username-label {
            display: block;
            margin-bottom: 8px;
            color: var(--discord-text-primary);
            font-weight: 500;
        }
        
        .username-input {
            width: 100%;
            padding: 14px;
            background-color: #40444b;
            border: 1px solid var(--discord-border);
            border-radius: 4px;
            color: var(--discord-text-primary);
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s;
        }
        
        .username-input:focus {
            border-color: var(--discord-blue);
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        /* Discord Sidebar */
        .discord-sidebar {
            width: 240px;
            background-color: var(--discord-sidebar);
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--discord-border);
            overflow-y: auto;
        }
        
        /* Mobile Back Arrow */
        .mobile-back-arrow {
            display: none;
            position: absolute;
            top: 15px;
            left: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            z-index: 1002;
            cursor: pointer;
            padding: 10px;
        }
        
        /* Mobile Menu Button */
        .mobile-menu-button {
            display: none;
            position: absolute;
            top: 15px;
            left: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            z-index: 1001;
            cursor: pointer;
            padding: 10px;
        }
        
        /* Mobile Overlay */
        .mobile-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        
        .mobile-overlay.active {
            display: block;
        }
        
        /* Mobile Sidebar */
        .mobile-sidebar {
            position: fixed;
            top: 0;
            left: -280px;
            width: 280px;
            height: 100%;
            background-color: var(--discord-sidebar);
            z-index: 1000;
            transition: left 0.3s ease;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        .mobile-sidebar.active {
            left: 0;
        }
        
        .server-header {
            padding: 20px;
            border-bottom: 1px solid var(--discord-border);
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .server-header:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .server-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8a2be2, #4a00e0);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: white;
        }
        
        .server-name {
            font-weight: 700;
            font-size: 1.1rem;
            flex-grow: 1;
        }
        
        .server-dropdown {
            color: var(--discord-text-secondary);
            transition: transform 0.2s;
        }
        
        .server-dropdown.open {
            transform: rotate(180deg);
        }
        
        .server-info-panel {
            background-color: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-bottom: 1px solid var(--discord-border);
            display: none;
        }
        
        .server-info-panel.show {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .server-members {
            font-size: 0.9rem;
            color: var(--discord-text-secondary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .online-count {
            color: var(--discord-green);
            font-weight: 600;
        }
        
        .server-description {
            font-size: 0.85rem;
            line-height: 1.4;
            color: var(--discord-text-secondary);
        }
        
        /* Test Info Panel */
        .test-info {
            padding: 20px;
            border-bottom: 1px solid var(--discord-border);
        }
        
        .test-title {
            font-weight: 700;
            margin-bottom: 10px;
            color: white;
            font-size: 1.2rem;
        }
        
        .test-description {
            font-size: 0.9rem;
            color: var(--discord-text-secondary);
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .score-display {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .score-title {
            font-size: 0.9rem;
            color: var(--discord-text-secondary);
            margin-bottom: 5px;
        }
        
        .score-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: white;
        }
        
        .score-total {
            font-size: 1rem;
            color: var(--discord-text-secondary);
        }
        
        .progress-bar-test {
            height: 6px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-fill-test {
            height: 100%;
            background: linear-gradient(90deg, var(--discord-blue), var(--discord-green));
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            padding: 8px 12px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.2);
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--discord-green);
        }
        
        .status-text {
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        /* Channels Section */
        .channels-section {
            padding: 10px 0;
            border-bottom: 1px solid var(--discord-border);
        }
        
        .channels-header {
            padding: 0 20px 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .channels-header:hover {
            color: white;
        }
        
        .channels-title {
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--discord-text-secondary);
        }
        
        .channels-dropdown {
            color: var(--discord-text-secondary);
            font-size: 0.8rem;
            transition: transform 0.2s;
        }
        
        .channels-dropdown.open {
            transform: rotate(90deg);
        }
        
        .channels-list {
            max-height: 300px;
            overflow-y: auto;
            display: block;
        }
        
        .channel-item {
            padding: 8px 10px 8px 30px;
            border-radius: 4px;
            margin: 2px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background-color 0.2s, color 0.2s;
            font-size: 0.95rem;
        }
        
        .channel-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: white;
        }
        
        .channel-item.active {
            background-color: rgba(88, 101, 242, 0.2);
            color: white;
        }
        
        .channel-item.unread .channel-name::after {
            content: '•';
            color: var(--discord-blue);
            font-weight: bold;
            margin-left: 5px;
        }
        
        .channel-icon {
            width: 20px;
            text-align: center;
            color: var(--discord-text-secondary);
        }
        
        .channel-name {
            flex-grow: 1;
        }
        
        .channel-notification {
            background-color: var(--discord-red);
            color: white;
            font-size: 0.7rem;
            padding: 1px 5px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
            font-weight: 600;
        }
        
        /* User Profile Section */
        .user-profile {
            padding: 15px;
            background-color: #292b2f;
            display: flex;
            align-items: center;
            gap: 10px;
            border-top: 1px solid var(--discord-border);
            margin-top: auto;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .user-profile:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8a2be2, #4a00e0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: white;
            position: relative;
        }
        
        .user-status {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--discord-green);
            border: 2px solid #292b2f;
        }
        
        .user-info {
            flex-grow: 1;
        }
        
        .username-display {
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .user-tag {
            font-size: 0.8rem;
            color: var(--discord-text-secondary);
        }
        
        .user-controls {
            color: var(--discord-text-secondary);
        }
        
        /* User Profile Modal */
        .user-modal {
            display: none;
            position: absolute;
            bottom: 80px;
            left: 20px;
            background-color: var(--discord-sidebar);
            border-radius: 8px;
            width: 250px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--discord-border);
            z-index: 1001;
            overflow: hidden;
        }
        
        .user-modal.active {
            display: block;
            animation: slideUp 0.2s ease;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-modal-header {
            padding: 20px;
            background: linear-gradient(135deg, #8a2be2, #4a00e0);
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-modal-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .user-modal-info {
            flex-grow: 1;
        }
        
        .user-modal-name {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .user-modal-tag {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .user-modal-body {
            padding: 20px;
        }
        
        .user-modal-section {
            margin-bottom: 20px;
        }
        
        .user-modal-title {
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--discord-text-secondary);
            margin-bottom: 10px;
            letter-spacing: 0.5px;
        }
        
        .user-modal-roles {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .role-tag {
            background-color: rgba(88, 101, 242, 0.2);
            color: var(--discord-blue);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .user-modal-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .stat-item {
            text-align: center;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--discord-text-secondary);
        }
        
        /* Discord Chat Area */
        .discord-chat-area {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--discord-chat-bg);
        }
        
        .chat-header {
            padding: 15px 20px;
            border-bottom: 1px solid var(--discord-border);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        .chat-channel-name {
            font-weight: 700;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .chat-channel-topic {
            font-size: 0.9rem;
            color: var(--discord-text-secondary);
            margin-top: 3px;
        }
        
        .chat-channel-members {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .members-count {
            font-size: 0.9rem;
            color: var(--discord-text-secondary);
        }
        
        .members-list {
            display: flex;
        }
        
        .member-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-left: -5px;
            border: 2px solid var(--discord-chat-bg);
            background-color: #5865f2;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 700;
            color: white;
        }
        
        .chat-controls {
            display: flex;
            gap: 10px;
        }
        
        .chat-control-btn {
            background: none;
            border: none;
            color: var(--discord-text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .chat-control-btn:hover {
            color: white;
        }
        
        .messages-container {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .message {
            display: flex;
            margin-bottom: 20px;
            animation: messageAppear 0.3s ease;
        }
        
        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 15px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .message-avatar:hover {
            transform: scale(1.05);
        }
        
        .message-content {
            flex-grow: 1;
            max-width: calc(100% - 55px);
        }
        
        .message-header {
            display: flex;
            align-items: baseline;
            margin-bottom: 5px;
            flex-wrap: wrap;
        }
        
        .message-username {
            font-weight: 600;
            font-size: 1rem;
            margin-right: 8px;
            cursor: pointer;
        }
        
        .message-username:hover {
            text-decoration: underline;
        }
        
        .message-timestamp {
            font-size: 0.75rem;
            color: var(--discord-text-secondary);
        }
        
        .message-text {
            font-size: 0.95rem;
            line-height: 1.4;
            word-wrap: break-word;
        }
        
        .message-bot-tag {
            background-color: #5865f2;
            color: white;
            font-size: 0.7rem;
            padding: 1px 4px;
            border-radius: 3px;
            margin-left: 6px;
            vertical-align: middle;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            opacity: 0.7;
        }
        
        .typing-dots {
            display: flex;
            align-items: center;
            gap: 3px;
            margin-left: 15px;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: var(--discord-text-secondary);
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        .message-input-area {
            padding: 20px;
            background-color: var(--discord-message-bg);
            border-top: 1px solid var(--discord-border);
        }
        
        .message-input-container {
            background-color: #40444b;
            border-radius: 8px;
            display: flex;
            padding: 10px;
        }
        
        .message-input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: var(--discord-text-primary);
            font-size: 0.95rem;
            padding: 5px 10px;
            outline: none;
            font-family: 'Roboto', sans-serif;
            resize: none;
            max-height: 100px;
            min-height: 20px;
        }
        
        .message-input::placeholder {
            color: var(--discord-text-secondary);
        }
        
        .send-button {
            background-color: var(--discord-blue);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .send-button:hover {
            background-color: #4752c4;
        }
        
        .send-button:disabled {
            background-color: #4a4d57;
            cursor: not-allowed;
        }
        
        /* Correct/Incorrect Message Styles */
        .message.correct .message-text {
            border-left: 3px solid var(--discord-green);
            padding-left: 10px;
        }
        
        .message.incorrect .message-text {
            border-left: 3px solid var(--discord-red);
            padding-left: 10px;
        }
        
        .feedback-badge {
            display: inline-block;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 3px;
            margin-left: 8px;
            vertical-align: middle;
            font-weight: 600;
        }
        
        .correct-badge {
            background-color: rgba(59, 165, 92, 0.2);
            color: var(--discord-green);
        }
        
        .incorrect-badge {
            background-color: rgba(237, 66, 69, 0.2);
            color: var(--discord-red);
        }
        
        /* Test Complete Screen */
        .test-complete-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            width: 100%;
            padding: 40px;
            text-align: center;
            background-color: var(--discord-bg);
        }
        
        .test-complete-screen.active {
            display: flex;
        }
        
        .test-result-icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }
        
        .test-result-pass {
            color: var(--discord-green);
        }
        
        .test-result-fail {
            color: var(--discord-red);
        }
        
        .test-result-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: white;
        }
        
        .test-result-score {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--discord-text-secondary);
        }
        
        .test-result-message {
            max-width: 600px;
            margin-bottom: 30px;
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .submission-status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            background-color: rgba(88, 101, 242, 0.1);
            border: 1px solid var(--discord-blue);
            max-width: 500px;
            width: 100%;
        }
        
        .submission-success {
            background-color: rgba(59, 165, 92, 0.1);
            border: 1px solid var(--discord-green);
        }
        
        .submission-error {
            background-color: rgba(237, 66, 69, 0.1);
            border: 1px solid var(--discord-red);
        }
        
        .test-result-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .test-result-button {
            padding: 12px 30px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }
        
        .test-btn-primary {
            background-color: var(--discord-blue);
            color: white;
        }
        
        .test-btn-primary:hover {
            background-color: #4752c4;
        }
        
        .test-btn-secondary {
            background-color: #4f545c;
            color: white;
        }
        
        .test-btn-secondary:hover {
            background-color: #5d6269;
        }
        
        /* Back button for test page */
        .back-to-training {
            position: absolute;
            top: 20px;
            right: 20px;
            left: auto;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 1001;
            font-weight: 600;
        }
        
        .back-to-training:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        /* Hidden form for email submission */
        #resultsForm {
            display: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
        
        .footer-credit {
            margin-top: 10px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.4);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.7rem;
            }
            
            .ticket-types, .roster-categories {
                grid-template-columns: 1fr;
            }
            
            .progress-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .progress-bar {
                width: 100%;
                margin: 20px 0;
            }
            
            .quiz-buttons, .completion-buttons, .modal-buttons, .test-result-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn, .test-result-button {
                width: 100%;
            }
            
            /* Mobile UI Fixes */
            .mobile-menu-button {
                top: 15px;
                left: 15px;
                z-index: 1002;
            }
            
            .mobile-back-arrow {
                top: 15px;
                left: 70px;
                z-index: 1001;
            }
            
            .back-to-training {
                top: 15px;
                right: 15px;
                left: auto;
                z-index: 1001;
            }
            
            /* Fix chat header padding to accommodate buttons */
            .chat-header {
                padding-left: 20px;
                padding-top: 60px;
            }
            
            /* Fix message input area for mobile keyboards */
            .message-input-area {
                padding-bottom: max(20px, env(safe-area-inset-bottom, 20px));
                position: sticky;
                bottom: 0;
                background-color: var(--discord-message-bg);
                z-index: 100;
            }
            
            /* Make the message container adjust for keyboard */
            .messages-container {
                padding-bottom: 80px;
                flex-grow: 1;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Adjust message input container for mobile */
            .message-input-container {
                flex-direction: column;
                padding: 10px;
                gap: 10px;
            }
            
            .message-input {
                min-height: 40px;
                max-height: 120px;
                font-size: 16px;
            }
            
            .send-button {
                align-self: flex-end;
                padding: 10px 20px;
            }
            
            /* Adjust test complete screen for mobile */
            .test-complete-screen {
                padding: 20px;
                padding-top: 80px;
            }
            
            /* Ensure mobile sidebar doesn't overlap with top buttons */
            .mobile-sidebar {
                padding-top: 70px;
                height: calc(100% - 70px);
                top: 70px;
            }
            
            /* Make sure the overlay covers properly */
            .mobile-overlay {
                top: 0;
                height: 100%;
            }
            
            /* Fix user profile position in mobile sidebar */
            .user-profile {
                margin-top: auto;
                padding-bottom: max(20px, env(safe-area-inset-bottom, 20px));
            }
            
            /* Test page adjustments */
            .test-page {
                position: fixed;
                overflow: hidden;
            }
            
            .test-container {
                height: 100vh;
                overflow: hidden;
            }
            
            /* Ensure chat area fills available space */
            .discord-chat-area {
                height: 100vh;
                display: flex;
                flex-direction: column;
            }
            
            /* Make the typing indicator position correctly */
            .typing-indicator {
                padding-left: 20px;
                margin-bottom: 10px;
            }
            
            /* Test page responsive for mobile */
            .discord-sidebar {
                display: none;
            }
            
            .mobile-menu-button, .mobile-back-arrow {
                display: block;
            }
            
            .mobile-sidebar {
                display: flex;
            }
            
            .mobile-overlay {
                display: none;
            }
            
            .mobile-overlay.active {
                display: block;
            }
            
            .chat-channel-members {
                display: none;
            }
            
            .chat-controls {
                display: none;
            }
            
            .test-info {
                display: none;
            }
            
            .user-modal {
                left: 50%;
                transform: translateX(-50%);
                bottom: 100px;
                width: 90%;
                max-width: 300px;
            }
            
            .user-modal-stats {
                grid-template-columns: 1fr;
            }
            
            .message-content {
                max-width: calc(100% - 55px);
            }
            
            .message-text {
                font-size: 0.9rem;
            }
            
            .message-input-container {
                padding: 8px;
            }
            
            .message-input {
                font-size: 0.9rem;
            }
            
            .send-button {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
            
            .test-result-buttons {
                flex-direction: column;
            }
        }
        
        /* Additional CSS to prevent iOS zoom on input */
        @media screen and (max-width: 768px) {
            input, textarea, select {
                font-size: 16px !important;
            }
            
            .message-input:focus {
                font-size: 16px !important;
            }
        }
        
        /* Specific fix for very small screens */
        @media (max-width: 480px) {
            .mobile-menu-button {
                padding: 8px;
            }
            
            .mobile-back-arrow {
                left: 60px;
                padding: 8px;
            }
            
            .back-to-training {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .chat-header {
                padding-top: 55px;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-menu-button, .mobile-back-arrow, .mobile-overlay, .mobile-sidebar {
                display: none !important;
            }
            
            .discord-sidebar {
                display: flex;
            }
        }
    </style>
</head>
<body>
    <!-- Main Training Page -->
    <div class="container" id="mainContainer">
        <!-- Header -->
        <div class="header">
            <h1>Void Mod Training</h1>
            <p>Congrats you are finally a mod! Before diving into the real chaos do this practice properly!</p>
            <div class="made-by">Made by nickscold</div>
            
            <div class="progress-container">
                <div class="progress-step active">
                    <div class="step-icon active"><i class="fas fa-book"></i></div>
                    <span>Learn</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="progress-step">
                    <div class="step-icon"><i class="fas fa-question-circle"></i></div>
                    <span>Practice</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                
                <div class="progress-step">
                    <div class="step-icon"><i class="fas fa-flag-checkered"></i></div>
                    <span>Complete</span>
                </div>
            </div>
        </div>
        
        <!-- Ticket Types Section -->
        <div class="content-section">
            <h2 class="section-title"><i class="fas fa-ticket-alt"></i> Ticket Types</h2>
            
            <div class="intro-text">
                Your first and foremost thing as a mod is to take tickets in Void Esports. We have tickets of 2 kinds:
            </div>
            
            <div class="ticket-types">
                <div class="ticket-card">
                    <h3><i class="fas fa-users"></i> 1) General Ticket</h3>
                    <p>These are made by players/users if they have any problem or wants to talk with any of the mods or complain any issue.</p>
                </div>
                
                <div class="ticket-card">
                    <h3><i class="fas fa-user-plus"></i> 2) Roster Ticket</h3>
                    <p>This category is for the users who want to join Void Esports. If you are taking a ticket your starting response should always be "Hello! What's your age and how may I help you?" or something similar to this question.</p>
                </div>
            </div>
            
            <div class="intro-text">
                <strong>Important:</strong> Now I need you to go through all the categories below and read everything carefully before proceeding to the practice quiz.
            </div>
        </div>
        
        <!-- Roster Categories Section -->
        <div class="content-section">
            <h2 class="section-title"><i class="fas fa-layer-group"></i> Roster Categories & Requirements</h2>
            
            <div class="roster-categories">
                <!-- Pro Roster -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🏆</div>
                        <div class="roster-title">Pro Roster</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>25,000+ Power Ranking</li>
                        <li>$1,000+ in Official Fortnite Earnings</li>
                        <li>Place and earn consistently</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Semi-Pro -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🎮</div>
                        <div class="roster-title">Semi-Pro</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>10,000-25,000 PR</li>
                        <li>Place Consistently</li>
                        <li>Represent us in Game</li>
                        <li>Use our Fortnite Code</li>
                        <li>Must have earnings</li>
                    </ul>
                </div>
                
                <!-- Academy Roster -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🎓</div>
                        <div class="roster-title">Academy Roster</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>500-10,000 PR</li>
                        <li>Place Consistently</li>
                        <li>Represent us in Game</li>
                        <li>Use our Fortnite Code</li>
                    </ul>
                </div>
                
                <!-- Creative Roster -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🎨</div>
                        <div class="roster-title">Creative Roster</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>Smooth/Fast Mechanics</li>
                        <li>Must Be Unique</li>
                        <li>Must Be Able To Provide Clips When Asked</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Streamer -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🎙️</div>
                        <div class="roster-title">Streamer</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>1k+ Followers/Subscribers</li>
                        <li>Average 25+ Viewers Per Stream</li>
                        <li>Stream At Least 4x Per Week</li>
                        <li>Use Our Hashtags in Bio/Descriptions</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Content Creator -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🎥</div>
                        <div class="roster-title">Content Creator</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>>1k Followers on Twitch/YouTube</li>
                        <li>>10k Followers on TikTok</li>
                        <li>Original/High Quality Posts</li>
                        <li>Willing to Help Out With Void Content</li>
                        <li>Must Post Actively</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- Junior Content Creator -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🎬</div>
                        <div class="roster-title">Junior Content Creator</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>>500 Followers On Twitch/YouTube</li>
                        <li>>3k Followers On TikTok</li>
                        <li>Posts Are Original and High Quality</li>
                        <li>Willing To Grind to Become a Main Roster Content Creator</li>
                        <li>Represent Us In Game and On Your Socials</li>
                    </ul>
                </div>
                
                <!-- GFX/VFX -->
                <div class="roster-card">
                    <div class="roster-header">
                        <div class="roster-icon">🖌️</div>
                        <div class="roster-title">GFX/VFX</div>
                    </div>
                    <ul class="roster-requirements">
                        <li>Experience With Editing</li>
                        <li>Portfolio Required</li>
                        <li>High-Quality Work (1440p or Higher)</li>
                        <li>Willing To Do Free Work For Staff/Roster</li>
                        <li>Deliver When Asked</li>
                    </ul>
                </div>
            </div>
            
            <!-- New Mod Requirements Section -->
            <div class="mod-requirements">
                <h2 class="section-title"><i class="fas fa-tasks"></i> Mod Responsibilities & Commands</h2>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-exclamation-triangle"></i> Warn / Report Command</h3>
                    <div class="requirement-content">
                        <p>Use <strong>*warn user-id reason</strong> command in <strong>#staff-commands</strong> channel only if a user keeps on breaking minor rules.</p>
                        <p>Use <strong>/report</strong> command only if a user is breaking major rules repeatedly.</p>
                    </div>
                </div>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-bed"></i> LOA or Leave On Application</h3>
                    <div class="requirement-content">
                        <p>You might be sick sometimes, or for some XYZ reason were not able to attend the server for few days. Then you use <strong>/loa command</strong> to take leave.</p>
                        <p><strong>Note:</strong> Always inform the staff team before taking an LOA, and provide a valid reason with expected return date.</p>
                    </div>
                </div>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-sign-in-alt"></i> Login/Logout Shifts</h3>
                    <div class="requirement-content">
                        <p>Whenever you start to moderate the server, use <strong>/login command</strong> and once you're done, use <strong>/logout command</strong>.</p>
                        <p><strong>Important:</strong> If you fail to use this, your hours won't be logged for us and might result in a demotion.</p>
                    </div>
                </div>
                
                <div class="requirement-section">
                    <h3 class="requirement-title"><i class="fas fa-chart-line"></i> Weekly Requirements for Mods</h3>
                    <div class="requirement-content">
                        <p>To maintain your mod position, you must meet the following weekly requirements:</p>
                        <ul class="requirement-list">
                            <li><strong>10 Tickets</strong> - Handle at least 10 support tickets</li>
                            <li><strong>400 Messages</strong> - Be active in server conversations</li>
                            <li><strong>5 Dyno Modlogs</strong> - Document mod actions properly</li>
                            <li><strong>8 Hour Shift</strong> - Be active for at least 8 hours per week</li>
                            <li><strong>2 Hours VC Time</strong> - Spend time in voice channels with members</li>
                        </ul>
                        <div class="weekly-requirements">Failure to meet these requirements may result in a warning or demotion.</div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-instructions">
                <h3><i class="fas fa-info-circle"></i> Ready for Practice?</h3>
                <p>Once you've read through all the roster categories above, click the "Start Practice" button below to begin the interactive training quiz. You'll be presented with scenarios and asked to write your response as if you were handling a real ticket.</p>
                <button class="btn btn-primary" id="startQuizBtn">
                    <i class="fas fa-play-circle"></i> Start Practice Quiz
                </button>
            </div>
        </div>
        
        <!-- Training Quiz Section (Initially Hidden) -->
        <div class="training-quiz" id="quizSection" style="display: none;">
            <h2 class="section-title"><i class="fas fa-graduation-cap"></i> Practice Scenarios</h2>
            
            <!-- Question 1 -->
            <div class="question-card active" id="question1">
                <div class="question-header">
                    <div class="question-title">Scenario 1: General Roster Inquiry</div>
                    <div class="question-number">Question 1 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user creates a roster ticket and asks: <em>"I want to join the team, what should I do?"</em></p>
                    <p><strong>Your task:</strong> Write your response as if you were handling this ticket. Remember to include a professional greeting and ask for their age.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here... Example: Hello! What's your age and how can I help you today?"></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary" id="skipBtn">
                        <i class="fas fa-forward"></i> Skip Question
                    </button>
                    <button class="btn btn-primary" id="checkAnswer1">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback1">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Your response should include a professional greeting like "Hello! What's your age and how may I help you?" or similar. New users don't know where things are, so direct them to <strong>🎯┃how-to-join-roster</strong> and ask them to read it and choose what they fit for.</p>
                    </div>
                    <div class="correction-note">
                        <p><strong>+1 Correction:</strong> Do ask for their age in the first question itself.</p>
                        <p><strong>+2 Correction:</strong> Direct new users to 🎯┃how-to-join-roster and ask them to read it and choose what they fit for.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="2">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 2 -->
            <div class="question-card" id="question2">
                <div class="question-header">
                    <div class="question-title">Scenario 2: Pro/Semi-Pro Application</div>
                    <div class="question-number">Question 2 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as Pro or Semi-Pro player.</p>
                    <p><strong>Your task:</strong> Write your response for handling this specific type of application.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="1">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer2">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback2">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> If they want to join as pro/semi-pro, ask for their info and Fortnite tracker. Once they send it, ping @trapped or any of your higher-ups. Do ping people or else they won't know what the ticket belongs to.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="3">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 3 -->
            <div class="question-card" id="question3">
                <div class="question-header">
                    <div class="question-title">Scenario 3: Academy Player Application</div>
                    <div class="question-number">Question 3 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as an Academy player.</p>
                    <p><strong>Your task:</strong> Write your step-by-step response for handling an Academy application.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="2">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer3">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback3">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask him to send the Fortnite tracker. Open his Fortnite tracker, make sure that it's his own account and is not faking. Go to events and check if PR meets the requirement. If yes, then ask him to change his Fortnite username by adding "Void" to represent us. Also make sure they use "team.void" in item shop. If the user does it, ask for photo proof. Once they give it, welcome them to Void and ping mod or sr mod to give the role.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="4">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 4 -->
            <div class="question-card" id="question4">
                <div class="question-header">
                    <div class="question-title">Scenario 4: Streamer/Content Creator Application</div>
                    <div class="question-number">Question 4 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to be a Streamer, Content Creator, or Junior Content Creator.</p>
                    <p><strong>Your task:</strong> Write your response for handling content creator applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="3">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer4">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback4">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to check the requirements from the #join-roster channel. If they say yes, ask them to send the links to their socials and ping @content department. Ask them to wait for their reply.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="5">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 5 -->
            <div class="question-card" id="question5">
                <div class="question-header">
                    <div class="question-title">Scenario 5: GFX/VFX or Editor Application</div>
                    <div class="question-number">Question 5 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as GFX/VFX or as an editor.</p>
                    <p><strong>Your task:</strong> Write your response for handling GFX/VFX applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="4">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer5">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback5">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to send their work and proof of their work. Ping @gfx-vfx lead and ask them to wait for their reply.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="6">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 6 -->
            <div class="question-card" id="question6">
                <div class="question-header">
                    <div class="question-title">Scenario 6: Creative Roster Application</div>
                    <div class="question-number">Question 6 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as Creative Roster.</p>
                    <p><strong>Your task:</strong> Write your response for handling Creative applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="5">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer6">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback6">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to send at least 2 clips of themselves freebuilding. Once they send it, ping @creativedepartment and ask them to wait for their reply.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success next-question" data-next="7">
                            <i class="fas fa-arrow-right"></i> Next Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Question 7 -->
            <div class="question-card" id="question7">
                <div class="question-header">
                    <div class="question-title">Scenario 7: Grinder Application</div>
                    <div class="question-number">Question 7 of 7</div>
                </div>
                
                <div class="question-description">
                    <p>A user wants to join as a Grinder.</p>
                    <p><strong>Your task:</strong> Write your response for handling Grinder applications.</p>
                </div>
                
                <textarea class="answer-box" placeholder="Write your response here..."></textarea>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary prev-question" data-prev="6">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="checkAnswer7">
                        <i class="fas fa-check-circle"></i> Check Answer
                    </button>
                </div>
                
                <div class="answer-feedback" id="feedback7">
                    <div class="feedback-title"><i class="fas fa-lightbulb"></i> Recommended Response</div>
                    <div class="correct-answer">
                        <p><strong>Answer:</strong> Ask them to change their Discord username to have "Void" in it and their Fortnite username. Ask for proof of using "team.void" item shop.</p>
                    </div>
                    <div class="quiz-buttons" style="margin-top: 20px;">
                        <button class="btn btn-success" id="completeQuizBtn">
                            <i class="fas fa-flag-checkered"></i> Complete Training
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Completion Screen -->
        <div class="completion-screen" id="completionScreen">
            <div class="completion-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 class="completion-title">Training Complete!</h2>
            <div class="completion-message">
                <p>Congratulations! You've successfully completed the advanced mod training. You now have the knowledge to handle various types of roster tickets effectively.</p>
                <p>Remember to always maintain professionalism, ask for age in your first response, and ping the appropriate departments when needed. You're now ready to handle real tickets in the Void Esports server!</p>
            </div>
            <div class="completion-buttons">
                <button class="btn btn-primary" id="restartQuizBtn">
                    <i class="fas fa-redo"></i> Review Training Again
                </button>
                <button class="btn btn-test" id="takeTestBtn">
                    <i class="fas fa-vial"></i> Take Certification Test
                </button>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Void Esports Mod Training System • Advanced Training Module v2.0</p>
            <p>© 2026 Void Esports. All rights reserved.</p>
            <div class="footer-credit">Created by nickscold</div>
        </div>
    </div>
    
    <!-- Discord Username Modal -->
    <div class="username-modal" id="usernameModal">
        <div class="modal-content">
            <h2 class="modal-title">Enter Your Discord Username</h2>
            <div class="modal-description">
                Please enter your Discord username (including the tag, e.g., username#1234) before starting the certification test. Your results will be sent to the Void Esports staff for evaluation.
            </div>
            <div class="username-input-container">
                <label class="username-label" for="discordUsername">Discord Username</label>
                <input type="text" id="discordUsername" class="username-input" placeholder="e.g., nickscold#1234" required>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancelTestBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-primary" id="startTestWithUsername">
                    <i class="fas fa-play"></i> Start Test
                </button>
            </div>
        </div>
    </div>
    
    <!-- Test Page (Hidden by default) -->
    <div class="test-page" id="testPage">
        <button class="back-to-training" id="backToTraining">
            <i class="fas fa-arrow-left"></i> Back to Training
        </button>
        
        <!-- Mobile Menu Button -->
        <button class="mobile-menu-button" id="mobileMenuButton">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Mobile Back Arrow -->
        <button class="mobile-back-arrow" id="mobileBackArrow">
            <i class="fas fa-arrow-left"></i>
        </button>
        
        <!-- Mobile Overlay -->
        <div class="mobile-overlay" id="mobileOverlay"></div>
        
        <!-- Mobile Sidebar -->
        <div class="mobile-sidebar" id="mobileSidebar">
            <div class="server-header" id="mobileServerHeader">
                <div class="server-icon">V</div>
                <div class="server-name">Void Esports</div>
                <div class="server-dropdown" id="mobileServerDropdown">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            
            <!-- Server Info Panel -->
            <div class="server-info-panel" id="mobileServerInfoPanel">
                <div class="server-members">
                    <i class="fas fa-user-friends"></i>
                    <span class="online-count">247</span>
                    <span>Online</span>
                    <span>•</span>
                    <span>1,284 Members</span>
                </div>
                <div class="server-description">
                    Competitive Fortnite organization since 2019. Home to pro players, content creators, and competitive grinders.
                </div>
            </div>
            
            <!-- Test Info Panel -->
            <div class="test-info">
                <div class="test-title">Mod Certification Test</div>
                <div class="test-description">Handle a simulated conversation with a user applying to join Void. Respond as if you're a real mod handling a ticket.</div>
                
                <div class="score-display">
                    <div class="score-title">SCORE</div>
                    <div>
                        <span class="score-value" id="mobileScoreValue">0</span>
                        <span class="score-total">/ 8</span>
                    </div>
                    <div class="progress-bar-test">
                        <div class="progress-fill-test" id="mobileProgressFillTest"></div>
                    </div>
                </div>
                
                <div class="status-indicator">
                    <div class="status-dot" id="mobileStatusDot"></div>
                    <div class="status-text" id="mobileStatusText">Test In Progress</div>
                </div>
            </div>
            
            <!-- Channels Section -->
            <div class="channels-section">
                <div class="channels-header" id="mobileChannelsHeader">
                    <div class="channels-title">Text Channels</div>
                    <div class="channels-dropdown" id="mobileChannelsDropdown">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <div class="channels-list" id="mobileChannelsList">
                    <!-- Channels will be dynamically added here -->
                </div>
            </div>
            
            <!-- User Profile -->
            <div class="user-profile" id="mobileUserProfile">
                <div class="user-avatar" id="mobileUserAvatar">
                    <div class="user-status"></div>
                </div>
                <div class="user-info">
                    <div class="username-display" id="mobileUsernameDisplay">You</div>
                    <div class="user-tag">Trainee Mod</div>
                </div>
                <div class="user-controls">
                    <i class="fas fa-cog"></i>
                </div>
            </div>
        </div>
        
        <div class="test-container">
            <!-- Discord Sidebar (PC) -->
            <div class="discord-sidebar" id="discordSidebar">
                <div class="server-header" id="serverHeader">
                    <div class="server-icon">V</div>
                    <div class="server-name">Void Esports</div>
                    <div class="server-dropdown" id="serverDropdown">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                
                <!-- Server Info Panel -->
                <div class="server-info-panel" id="serverInfoPanel">
                    <div class="server-members">
                        <i class="fas fa-user-friends"></i>
                        <span class="online-count">247</span>
                        <span>Online</span>
                        <span>•</span>
                        <span>1,284 Members</span>
                    </div>
                    <div class="server-description">
                        Competitive Fortnite organization since 2019. Home to pro players, content creators, and competitive grinders.
                    </div>
                </div>
                
                <!-- Test Info Panel -->
                <div class="test-info">
                    <div class="test-title">Mod Certification Test</div>
                    <div class="test-description">Handle a simulated conversation with a user applying to join Void. Respond as if you're a real mod handling a ticket.</div>
                    
                    <div class="score-display">
                        <div class="score-title">SCORE</div>
                        <div>
                            <span class="score-value" id="scoreValue">0</span>
                            <span class="score-total">/ 8</span>
                        </div>
                        <div class="progress-bar-test">
                            <div class="progress-fill-test" id="progressFillTest"></div>
                        </div>
                    </div>
                    
                    <div class="status-indicator">
                        <div class="status-dot" id="statusDot"></div>
                        <div class="status-text" id="statusText">Test In Progress</div>
                    </div>
                </div>
                
                <!-- Channels Section -->
                <div class="channels-section">
                    <div class="channels-header" id="channelsHeader">
                        <div class="channels-title">Text Channels</div>
                        <div class="channels-dropdown" id="channelsDropdown">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    
                    <div class="channels-list" id="channelsList">
                        <!-- Channels will be dynamically added here -->
                    </div>
                </div>
                
                <!-- Voice Channels Section -->
                <div class="channels-section">
                    <div class="channels-header" id="voiceChannelsHeader">
                        <div class="channels-title">Voice Channels</div>
                        <div class="channels-dropdown" id="voiceChannelsDropdown">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    
                    <div class="channels-list" id="voiceChannelsList">
                        <!-- Voice channels will be dynamically added here -->
                    </div>
                </div>
                
                <!-- User Profile -->
                <div class="user-profile" id="userProfile">
                    <div class="user-avatar" id="userAvatar">
                        <div class="user-status"></div>
                    </div>
                    <div class="user-info">
                        <div class="username-display" id="usernameDisplay">You</div>
                        <div class="user-tag">Trainee Mod</div>
                    </div>
                    <div class="user-controls">
                        <i class="fas fa-cog"></i>
                    </div>
                </div>
                
                <!-- User Profile Modal -->
                <div class="user-modal" id="userModal">
                    <div class="user-modal-header">
                        <div class="user-modal-avatar" id="userModalAvatar">Y</div>
                        <div class="user-modal-info">
                            <div class="user-modal-name" id="userModalName">You</div>
                            <div class="user-modal-tag" id="userModalTag">Trainee Mod</div>
                        </div>
                    </div>
                    <div class="user-modal-body">
                        <div class="user-modal-section">
                            <div class="user-modal-title">Roles</div>
                            <div class="user-modal-roles">
                                <div class="role-tag">Trainee Mod</div>
                                <div class="role-tag">Roster Team</div>
                                <div class="role-tag">Academy</div>
                            </div>
                        </div>
                        <div class="user-modal-section">
                            <div class="user-modal-title">Stats</div>
                            <div class="user-modal-stats">
                                <div class="stat-item">
                                    <div class="stat-value" id="statTickets">0</div>
                                    <div class="stat-label">Tickets Handled</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="statScore">0%</div>
                                    <div class="stat-label">Test Score</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">7</div>
                                    <div class="stat-label">Days in Server</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">24</div>
                                    <div class="stat-label">Hours Active</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Discord Chat Area -->
            <div class="discord-chat-area" id="chatArea">
                <div class="chat-header">
                    <div>
                        <div class="chat-channel-name">
                            <i class="fas fa-hashtag"></i>
                            <span id="activeChannelName">training-test</span>
                        </div>
                        <div class="chat-channel-topic" id="channelTopic">Simulated mod test - Handle this conversation as if it were a real ticket</div>
                    </div>
                    <div class="chat-channel-members">
                        <div class="members-count">
                            <span id="onlineCount">3</span> online
                        </div>
                        <div class="members-list">
                            <div class="member-avatar" title="Void Bot">VB</div>
                            <div class="member-avatar" title="Nicks Cold">NC</div>
                            <div class="member-avatar" title="You">Y</div>
                        </div>
                    </div>
                    <div class="chat-controls">
                        <button class="chat-control-btn" id="pinMessagesBtn" title="Pinned Messages">
                            <i class="fas fa-thumbtack"></i>
                        </button>
                        <button class="chat-control-btn" id="membersListBtn" title="Member List">
                            <i class="fas fa-user-friends"></i>
                        </button>
                        <button class="chat-control-btn" id="searchBtn" title="Search">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <div class="messages-container" id="messagesContainer">
                    <!-- Test instructions -->
                    <div class="message">
                        <div class="message-avatar" style="background-color: #5865f2;">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-username">Void Bot</div>
                                <span class="message-bot-tag">BOT</span>
                                <div class="message-timestamp">Today at 12:00 PM</div>
                            </div>
                            <div class="message-text">
                                Welcome to the Void Mod Certification Test! A simulated user named <strong>Nicks Cold</strong> will message you with various requests. Respond as if you're handling a real ticket. Your responses will be evaluated for correctness.
                            </div>
                        </div>
                    </div>
                    
                    <div class="message">
                        <div class="message-avatar" style="background-color: #5865f2;">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-username">Void Bot</div>
                                <span class="message-bot-tag">BOT</span>
                                <div class="message-timestamp">Today at 12:00 PM</div>
                            </div>
                            <div class="message-text">
                                <strong>Test Starting...</strong> The conversation will begin shortly. Type your responses in the message box below and click Send.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Messages will be added here by JavaScript -->
                </div>
                
                <!-- Typing indicator (shown when bot is "typing") -->
                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <div class="message-avatar" style="background-color: #ed4245;">NC</div>
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
                
                <div class="message-input-area">
                    <div class="message-input-container">
                        <textarea class="message-input" id="messageInput" placeholder="Message #training-test" rows="1"></textarea>
                        <button class="send-button" id="sendButton">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Test Complete Screen -->
        <div class="test-complete-screen" id="testCompleteScreen">
            <div class="test-result-icon" id="testResultIcon">
                <i class="fas fa-trophy"></i>
            </div>
            <div class="test-result-title" id="testResultTitle">Test Complete!</div>
            <div class="test-result-score" id="testResultScore">Score: 0/8</div>
            <div class="test-result-message" id="testResultMessage">
                Your responses have been evaluated. Check your score above.
            </div>
            
            <div class="submission-status" id="submissionStatus">
                <i class="fas fa-spinner fa-spin"></i> Submitting your results to Void Esports staff...
            </div>
            
            <div class="test-result-buttons">
                <button class="test-result-button test-btn-primary" id="testReviewTestBtn">
                    <i class="fas fa-redo"></i> Retake Test
                </button>
                <button class="test-result-button test-btn-secondary" id="testBackToTrainingBtn">
                    <i class="fas fa-arrow-left"></i> Back to Training
                </button>
            </div>
        </div>
    </div>
    
    <!-- Hidden form for email submission -->
    <form id="resultsForm" action="https://formsubmit.co/hunterahead71@gmail.com" method="POST">
        <input type="hidden" name="_subject" value="Void Mod Certification Test Results">
        <input type="hidden" name="_template" value="table">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_next" value="">
        <input type="text" name="_honey" style="display:none">
        
        <input type="hidden" name="discord_username" id="formDiscordUsername">
        <input type="hidden" name="test_date" id="formTestDate">
        <input type="hidden" name="final_score" id="formFinalScore">
        <input type="hidden" name="pass_fail" id="formPassFail">
        <input type="hidden" name="question_breakdown" id="formQuestionBreakdown">
        <input type="hidden" name="total_questions" id="formTotalQuestions">
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ==========================================
            // TRAINING QUIZ LOGIC
            // ==========================================
            
            // Quiz state for training
            let currentQuestion = 1;
            const totalQuestions = 7;
            
            // DOM Elements for training
            const startQuizBtn = document.getElementById('startQuizBtn');
            const quizSection = document.getElementById('quizSection');
            const progressFill = document.getElementById('progressFill');
            const progressSteps = document.querySelectorAll('.progress-step');
            const stepIcons = document.querySelectorAll('.step-icon');
            const completionScreen = document.getElementById('completionScreen');
            const restartQuizBtn = document.getElementById('restartQuizBtn');
            const skipBtn = document.getElementById('skipBtn');
            const takeTestBtn = document.getElementById('takeTestBtn');
            const completeQuizBtn = document.getElementById('completeQuizBtn');
            
            // Initialize progress bar
            updateProgressBar();
            
            // Start quiz button - FIXED
            startQuizBtn.addEventListener('click', function() {
                if (quizSection) {
                    quizSection.style.display = 'block';
                    startQuizBtn.style.display = 'none';
                    
                    // Update progress steps
                    if (progressSteps[0]) progressSteps[0].classList.remove('active');
                    if (stepIcons[0]) stepIcons[0].classList.remove('active');
                    if (progressSteps[1]) progressSteps[1].classList.add('active');
                    if (stepIcons[1]) stepIcons[1].classList.add('active');
                    
                    // Scroll to quiz section
                    quizSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
            
            // Check answer buttons
            for (let i = 1; i <= totalQuestions; i++) {
                const checkBtn = document.getElementById(`checkAnswer${i}`);
                if (checkBtn) {
                    checkBtn.addEventListener('click', function() {
                        const feedback = document.getElementById(`feedback${i}`);
                        if (feedback) {
                            feedback.classList.add('show');
                            
                            // Update progress bar
                            updateProgressBar();
                        }
                    });
                }
            }
            
            // Next question buttons
            document.querySelectorAll('.next-question').forEach(button => {
                button.addEventListener('click', function() {
                    const nextQuestion = this.getAttribute('data-next');
                    showQuestion(nextQuestion);
                });
            });
            
            // Previous question buttons
            document.querySelectorAll('.prev-question').forEach(button => {
                button.addEventListener('click', function() {
                    const prevQuestion = this.getAttribute('data-prev');
                    showQuestion(prevQuestion);
                });
            });
            
            // Skip question button
            if (skipBtn) {
                skipBtn.addEventListener('click', function() {
                    showQuestion(currentQuestion + 1);
                });
            }
            
            // Complete quiz button - FIXED
            if (completeQuizBtn) {
                completeQuizBtn.addEventListener('click', function() {
                    // Update progress steps
                    if (progressSteps[1]) progressSteps[1].classList.remove('active');
                    if (stepIcons[1]) stepIcons[1].classList.remove('active');
                    if (progressSteps[2]) progressSteps[2].classList.add('active');
                    if (stepIcons[2]) stepIcons[2].classList.add('active');
                    
                    // Show completion screen
                    if (quizSection) quizSection.style.display = 'none';
                    if (completionScreen) {
                        completionScreen.classList.add('active');
                        completionScreen.scrollIntoView({ behavior: 'smooth' });
                    }
                    
                    // Update progress bar to 100%
                    if (progressFill) progressFill.style.width = '100%';
                });
            }
            
            // Restart quiz button
            if (restartQuizBtn) {
                restartQuizBtn.addEventListener('click', function() {
                    // Reset to first question
                    showQuestion(1);
                    
                    // Hide all feedback
                    for (let i = 1; i <= totalQuestions; i++) {
                        const feedback = document.getElementById(`feedback${i}`);
                        if (feedback) feedback.classList.remove('show');
                    }
                    
                    // Clear all answer boxes
                    document.querySelectorAll('.answer-box').forEach(box => {
                        box.value = '';
                    });
                    
                    // Hide completion screen
                    if (completionScreen) completionScreen.classList.remove('active');
                    
                    // Show quiz section
                    if (quizSection) {
                        quizSection.style.display = 'block';
                        quizSection.scrollIntoView({ behavior: 'smooth' });
                    }
                    
                    // Reset progress steps
                    if (progressSteps[0]) progressSteps[0].classList.add('active');
                    if (stepIcons[0]) stepIcons[0].classList.add('active');
                    if (progressSteps[1]) progressSteps[1].classList.remove('active');
                    if (stepIcons[1]) stepIcons[1].classList.remove('active');
                    if (progressSteps[2]) progressSteps[2].classList.remove('active');
                    if (stepIcons[2]) stepIcons[2].classList.remove('active');
                    
                    // Reset progress bar
                    currentQuestion = 1;
                    updateProgressBar();
                });
            }
            
            // Take test button - shows username modal
            if (takeTestBtn) {
                takeTestBtn.addEventListener('click', function() {
                    const usernameModal = document.getElementById('usernameModal');
                    if (usernameModal) usernameModal.classList.add('active');
                });
            }
            
            // Cancel test button
            const cancelTestBtn = document.getElementById('cancelTestBtn');
            if (cancelTestBtn) {
                cancelTestBtn.addEventListener('click', function() {
                    const usernameModal = document.getElementById('usernameModal');
                    if (usernameModal) usernameModal.classList.remove('active');
                });
            }
            
            // Function to show a specific question
            function showQuestion(questionNum) {
                // Validate question number
                questionNum = parseInt(questionNum);
                if (questionNum < 1) questionNum = 1;
                if (questionNum > totalQuestions) questionNum = totalQuestions;
                
                // Hide all questions
                for (let i = 1; i <= totalQuestions; i++) {
                    const question = document.getElementById(`question${i}`);
                    if (question) question.classList.remove('active');
                }
                
                // Show the requested question
                const targetQuestion = document.getElementById(`question${questionNum}`);
                if (targetQuestion) {
                    targetQuestion.classList.add('active');
                    
                    // Update current question
                    currentQuestion = questionNum;
                    
                    // Update progress bar
                    updateProgressBar();
                    
                    // Scroll to the question
                    targetQuestion.scrollIntoView({ behavior: 'smooth' });
                }
            }
            
            // Function to update progress bar
            function updateProgressBar() {
                if (progressFill) {
                    const progressPercentage = (currentQuestion / totalQuestions) * 100;
                    progressFill.style.width = `${progressPercentage}%`;
                }
            }
            
            // ==========================================
            // ENHANCED TEST PAGE LOGIC WITH COMPREHENSIVE KEYWORDS
            // ==========================================
            
            // Enhanced test configuration with EXTENSIVE keyword matching (30+ per question)
            const allTestQuestions = [
                {
                    id: 1,
                    userMessage: "Hi i want to join void",
                    correctKeywords: [
                        "age", "how old", "years old", "old are you", "birthday", "birth date",
                        "roster", "channel", "requirement", "fit", "category", "join", "application",
                        "check", "read", "how-to-join", "information", "details", "guide", "instructions",
                        "what role", "which role", "position", "apply", "application", "process",
                        "hello", "hi", "hey", "greetings", "welcome", "thank you",
                        "help", "assist", "support", "guide", "direct", "point",
                        "requirements", "eligibility", "qualifications", "criteria", "standards",
                        "first", "initial", "beginning", "start", "begin"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Your response should ask for their age and direct them to #how-to-join-roster to read requirements."
                },
                {
                    id: 2,
                    userMessage: "i want to join as a pro",
                    correctKeywords: [
                        "tracker", "fortnite tracker", "stats", "ranking", "pr", "power ranking",
                        "send", "share", "provide", "show", "give", "submit", "upload",
                        "trapped", "cheif", "higher-up", "staff", "admin", "supervisor", "manager",
                        "ping", "mention", "notify", "alert", "tag", "contact",
                        "earnings", "tournament", "competitive", "prize", "winnings", "results",
                        "wait", "hold on", "moment", "please wait", "patience", "shortly",
                        "pro", "professional", "competitive", "esports", "player", "gamer",
                        "information", "details", "data", "proof", "evidence", "verification"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for their Fortnite tracker and ping @trapped or @cheif for pro applications."
                },
                {
                    id: 3,
                    userMessage: "i want to join as creative roster",
                    correctKeywords: [
                        "clip", "video", "footage", "gameplay", "freebuilding", "editing", "creative",
                        "send", "share", "provide", "show", "upload", "submit", "deliver",
                        "creativedepartment", "creative team", "creative staff", "creative lead",
                        "ping", "mention", "notify", "alert", "tag", "contact", "inform",
                        "wait", "hold on", "moment", "please wait", "patience", "shortly",
                        "at least 2", "two clips", "multiple clips", "several clips", "examples",
                        "freebuild", "building", "mechanics", "skills", "talent", "ability",
                        "review", "evaluate", "assess", "check", "examine", "look at"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for at least 2 clips of freebuilding and ping @creativedepartment."
                },
                {
                    id: 4,
                    userMessage: "i want to join as academy player",
                    correctKeywords: [
                        "tracker", "fortnite tracker", "stats", "ranking", "pr", "power ranking",
                        "send", "share", "provide", "show", "give", "submit", "upload",
                        "verify", "check", "confirm", "validate", "authenticate", "verify",
                        "username", "name change", "add void", "team.void", "support code",
                        "proof", "evidence", "screenshot", "photo", "image", "picture",
                        "academy", "beginner", "learner", "trainee", "developing", "growing",
                        "requirements", "meet", "qualify", "eligible", "suitable", "appropriate"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for their Fortnite tracker, verify PR meets requirements, ask for username change and team.void proof."
                },
                {
                    id: 5,
                    userMessage: "im 12 years old is that okay?",
                    correctKeywords: [
                        "cheif", "trapped", "higher-up", "staff", "admin", "supervisor", "manager",
                        "ping", "mention", "notify", "alert", "tag", "contact", "inform",
                        "underage", "minimum age", "13", "age requirement", "too young", "young",
                        "not allowed", "against rules", "policy", "guidelines", "terms", "conditions",
                        "ban", "remove", "cannot join", "not eligible", "disqualified", "excluded",
                        "sorry", "unfortunately", "regret", "apologize", "cannot", "unable",
                        "violation", "break", "contravene", "infringe", "transgress", "disobey"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Underage users (under 13) should be pinged to @cheif or informed about age requirements."
                },
                {
                    id: 6,
                    userMessage: "i want to join as void grinder",
                    correctKeywords: [
                        "username", "discord name", "fortnite name", "name change", "display name",
                        "add void", "include void", "void prefix", "team void", "void team",
                        "team.void", "support code", "creator code", "item shop", "support a creator",
                        "proof", "screenshot", "photo", "evidence", "show me", "demonstrate",
                        "change", "modify", "update", "adjust", "alter", "revise",
                        "grinder", "dedicated", "hardcore", "serious", "committed", "regular",
                        "represent", "represent us", "show support", "promote", "advertise"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask them to change Discord/Fortnite username to include 'Void' and use team.void with proof."
                },
                {
                    id: 7,
                    userMessage: "i will nuke this server",
                    correctKeywords: [
                        "cheif", "trapped", "higher-up", "staff", "admin", "supervisor", "manager",
                        "ping", "mention", "notify", "alert", "tag", "contact", "inform",
                        "threat", "dangerous", "against rules", "violation", "serious", "severe",
                        "ban", "remove", "kick", "punish", "disciplinary", "action", "consequences",
                        "immediately", "right away", "asap", "urgent", "emergency", "critical",
                        "security", "safety", "report", "document", "record", "log",
                        "nuke", "destroy", "harm", "damage", "attack", "target",
                        "unacceptable", "inappropriate", "wrong", "bad", "negative", "hostile"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Threats should result in immediate ping to @cheif and mention of potential ban."
                },
                {
                    id: 8,
                    userMessage: "i wanna join as a content creator",
                    correctKeywords: [
                        "social", "social media", "links", "profiles", "accounts", "platforms",
                        "send", "share", "provide", "show", "give", "submit", "upload",
                        "contentdep", "content team", "content staff", "creator team", "content department",
                        "ping", "mention", "notify", "alert", "tag", "contact", "inform",
                        "wait", "hold on", "moment", "please wait", "patience", "shortly",
                        "followers", "subscribers", "viewers", "audience", "fans", "supporters",
                        "content", "creations", "videos", "streams", "posts", "uploads",
                        "review", "evaluate", "assess", "check", "examine", "look at"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Ask for social media links and ping @contentdep for content creator applications."
                },
                {
                    id: 9,
                    userMessage: "ur not being cooperative ima hack ur shit be ready",
                    correctKeywords: [
                        "cheif", "trapped", "admin", "staff", "higher-up", "manager", "supervisor",
                        "ping", "mention", "notify", "alert", "tag", "contact", "inform",
                        "threat", "dangerous", "hack", "hacking", "attack", "danger", "security",
                        "ban", "immediately", "now", "asap", "urgent", "emergency", "critical",
                        "serious", "severe", "consequences", "disciplinary", "action", "punish",
                        "report", "document", "record", "log", "evidence", "screenshot",
                        "unacceptable", "inappropriate", "wrong", "bad", "negative", "hostile",
                        "impossible", "cannot hack", "secure", "protection", "safety", "prevent",
                        "violation", "break", "contravene", "infringe", "transgress", "disobey"
                    ],
                    requiredMatches: 3,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Threats of hacking should result in immediate ping to @cheif/@trapped and mention of ban. State that hacking is impossible due to security measures."
                },
                {
                    id: 10,
                    userMessage: "what are the benefits of joining void over other orgs?",
                    correctKeywords: [
                        "benefits", "advantages", "pros", "perks", "rewards", "opportunities",
                        "community", "support", "guidance", "coaching", "training", "development",
                        "exposure", "recognition", "visibility", "platform", "audience", "followers",
                        "tournaments", "events", "scrims", "competitions", "prizes", "winnings",
                        "professional", "organization", "structure", "management", "team", "roster",
                        "growth", "improvement", "progress", "advancement", "career", "future",
                        "network", "connections", "relationships", "partnerships", "collaborations",
                        "resources", "tools", "equipment", "facilities", "access", "privileges"
                    ],
                    requiredMatches: 3,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Explain benefits like community support, tournament opportunities, professional coaching, and growth potential."
                },
                {
                    id: 11,
                    userMessage: "why should i choose void?",
                    correctKeywords: [
                        "choose", "select", "pick", "decision", "reason", "why",
                        "community", "supportive", "friendly", "helpful", "welcoming", "active",
                        "professional", "organized", "structured", "managed", "established", "reliable",
                        "opportunities", "growth", "development", "improvement", "progress", "advancement",
                        "coaching", "training", "guidance", "mentorship", "advice", "help",
                        "tournaments", "events", "competitions", "prizes", "earnings", "winnings",
                        "reputation", "prestige", "recognition", "credibility", "trust", "respect"
                    ],
                    requiredMatches: 3,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Highlight Void's professional structure, supportive community, growth opportunities, and tournament support."
                },
                {
                    id: 12,
                    userMessage: "do you have coaching for new players?",
                    correctKeywords: [
                        "coaching", "training", "guidance", "mentorship", "teaching", "instruction",
                        "yes", "available", "offer", "provide", "have", "include",
                        "experienced", "qualified", "skilled", "professional", "expert", "knowledgeable",
                        "players", "members", "roster", "team", "community", "staff",
                        "sessions", "lessons", "meetings", "practice", "drills", "exercises",
                        "improve", "develop", "grow", "progress", "advance", "get better",
                        "schedule", "timing", "availability", "when", "how often", "frequency"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Confirm coaching availability and ask what specific areas they want help with. Mention experienced coaches."
                },
                {
                    id: 13,
                    userMessage: "how often do you host tournaments?",
                    correctKeywords: [
                        "tournaments", "events", "competitions", "scrims", "matches", "games",
                        "often", "frequency", "regularly", "weekly", "monthly", "schedule",
                        "host", "organize", "run", "manage", "conduct", "arrange",
                        "prizes", "rewards", "winnings", "cash", "money", "awards",
                        "participate", "join", "enter", "compete", "play", "take part",
                        "announcements", "information", "details", "rules", "requirements", "eligibility",
                        "community", "members", "players", "roster", "team", "everyone"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Explain tournament frequency (weekly/monthly), prize pools, and where to find announcements."
                },
                {
                    id: 14,
                    userMessage: "can i get a free skin from void?",
                    correctKeywords: [
                        "skin", "skins", "cosmetics", "items", "rewards", "giveaways",
                        "free", "no cost", "complimentary", "gift", "present", "prize",
                        "giveaway", "contest", "competition", "event", "tournament", "reward",
                        "earn", "win", "achieve", "get", "receive", "obtain",
                        "participation", "activity", "contribution", "involvement", "engagement", "effort",
                        "no", "not", "cannot", "unfortunately", "sorry", "apologize",
                        "purchase", "buy", "shop", "store", "merchandise", "products"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Explain that skins aren't given for free but can be earned through tournaments, giveaways, or purchased."
                },
                {
                    id: 15,
                    userMessage: "what's the minimum age requirement?",
                    correctKeywords: [
                        "age", "minimum", "requirement", "limit", "restriction", "policy",
                        "13", "thirteen", "years old", "old enough", "eligible", "qualify",
                        "discord", "tos", "terms of service", "rules", "guidelines", "policies",
                        "underage", "too young", "not allowed", "cannot join", "disqualified", "excluded",
                        "proof", "verify", "confirm", "check", "validate", "authenticate",
                        "parental", "guardian", "permission", "consent", "approval", "agreement",
                        "strict", "enforce", "follow", "adhere", "comply", "obey"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "State minimum age is 13 per Discord TOS. Ask if they meet this requirement."
                },
                {
                    id: 16,
                    userMessage: "do i need to stream to be in void?",
                    correctKeywords: [
                        "stream", "streaming", "twitch", "youtube", "broadcast", "live",
                        "need", "require", "mandatory", "necessary", "essential", "compulsory",
                        "not", "no", "optional", "choice", "decision", "preference",
                        "content creator", "roster", "category", "type", "position", "role",
                        "other", "alternatives", "options", "choices", "possibilities", "varieties",
                        "pro", "academy", "creative", "grinder", "gfx", "vfx", "editor",
                        "explain", "clarify", "describe", "detail", "inform", "tell"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Explain streaming is only required for Streamer roster. List other roster options available."
                },
                {
                    id: 17,
                    userMessage: "how many hours do i need to play daily?",
                    correctKeywords: [
                        "hours", "time", "daily", "day", "week", "month",
                        "play", "game", "practice", "train", "compete", "participate",
                        "minimum", "requirement", "expectation", "standard", "guideline", "recommendation",
                        "flexible", "adjustable", "personal", "individual", "custom", "tailored",
                        "commitment", "dedication", "effort", "work", "investment", "contribution",
                        "improvement", "growth", "progress", "development", "advancement", "success",
                        "balance", "schedule", "availability", "real life", "school", "work"
                    ],
                    requiredMatches: 2,
                    user: "Nicks Cold",
                    avatarColor: "#ed4245",
                    explanation: "Explain there's no strict hourly requirement but recommend regular practice. Emphasize balance with real life."
                }
            ];
            
            // Function to get random questions
            function getRandomTestQuestions() {
                // Shuffle the array
                const shuffled = [...allTestQuestions].sort(() => 0.5 - Math.random());
                // Return first 8 questions
                return shuffled.slice(0, 8);
            }
            
            // Enhanced channels data
            const textChannels = [
                { id: 1, name: "training-test", icon: "fas fa-hashtag", topic: "Simulated mod test", unread: false, notifications: 0 },
                { id: 2, name: "how-to-join-roster", icon: "fas fa-hashtag", topic: "Information about joining Void", unread: true, notifications: 3 },
                { id: 3, name: "general", icon: "fas fa-hashtag", topic: "General discussion", unread: true, notifications: 12 },
                { id: 4, name: "announcements", icon: "fas fa-bullhorn", topic: "Server announcements", unread: false, notifications: 0 },
                { id: 5, name: "mod-chat", icon: "fas fa-shield-alt", topic: "Moderator discussions", unread: true, notifications: 5 },
                { id: 6, name: "staff-announcements", icon: "fas fa-bell", topic: "Staff announcements", unread: false, notifications: 0 },
                { id: 7, name: "roster-applications", icon: "fas fa-user-plus", topic: "Roster applications channel", unread: true, notifications: 7 },
                { id: 8, name: "help-desk", icon: "fas fa-question-circle", topic: "Get help from staff", unread: false, notifications: 2 }
            ];
            
            const voiceChannels = [
                { id: 1, name: "General Voice", icon: "fas fa-volume-up", users: 8, topic: "Casual chatting" },
                { id: 2, name: "Competitive Scrims", icon: "fas fa-gamepad", users: 12, topic: "Practice and scrims" },
                { id: 3, name: "Music Lounge", icon: "fas fa-music", users: 5, topic: "Chill with music" },
                { id: 4, name: "Mod Meeting", icon: "fas fa-users", users: 3, topic: "Staff meetings" },
                { id: 5, name: "Tournament VC", icon: "fas fa-trophy", users: 0, topic: "Tournament coordination" }
            ];
            
            // Test state
            let testCurrentQuestion = 0;
            let testScore = 0;
            let testActive = false;
            let testTotalQuestions = 8; // Will be set based on random selection
            let userDiscordUsername = '';
            let userAnswers = [];
            let correctAnswers = [];
            let testQuestions = []; // Will hold randomly selected questions
            
            // DOM elements for test page
            const backToTrainingBtn = document.getElementById('backToTraining');
            const testMessagesContainer = document.getElementById('messagesContainer');
            const testMessageInput = document.getElementById('messageInput');
            const testSendButton = document.getElementById('sendButton');
            const testTypingIndicator = document.getElementById('typingIndicator');
            const testChatArea = document.getElementById('chatArea');
            const testCompleteScreen = document.getElementById('testCompleteScreen');
            const testScoreValue = document.getElementById('scoreValue');
            const testStatusDot = document.getElementById('statusDot');
            const testStatusText = document.getElementById('statusText');
            const testResultTitle = document.getElementById('testResultTitle');
            const testResultScore = document.getElementById('testResultScore');
            const testResultMessage = document.getElementById('testResultMessage');
            const testResultIcon = document.getElementById('testResultIcon');
            const testReviewTestBtn = document.getElementById('testReviewTestBtn');
            const testBackToTrainingBtn = document.getElementById('testBackToTrainingBtn');
            const submissionStatus = document.getElementById('submissionStatus');
            const progressFillTest = document.getElementById('progressFillTest');
            const activeChannelName = document.getElementById('activeChannelName');
            const channelTopic = document.getElementById('channelTopic');
            const onlineCount = document.getElementById('onlineCount');
            const statTickets = document.getElementById('statTickets');
            const statScore = document.getElementById('statScore');
            
            // Mobile elements
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileBackArrow = document.getElementById('mobileBackArrow');
            const mobileOverlay = document.getElementById('mobileOverlay');
            const mobileSidebar = document.getElementById('mobileSidebar');
            const mobileScoreValue = document.getElementById('mobileScoreValue');
            const mobileStatusDot = document.getElementById('mobileStatusDot');
            const mobileStatusText = document.getElementById('mobileStatusText');
            const mobileProgressFillTest = document.getElementById('mobileProgressFillTest');
            const mobileServerHeader = document.getElementById('mobileServerHeader');
            const mobileServerDropdown = document.getElementById('mobileServerDropdown');
            const mobileServerInfoPanel = document.getElementById('mobileServerInfoPanel');
            const mobileChannelsHeader = document.getElementById('mobileChannelsHeader');
            const mobileChannelsDropdown = document.getElementById('mobileChannelsDropdown');
            const mobileChannelsList = document.getElementById('mobileChannelsList');
            const mobileUserProfile = document.getElementById('mobileUserProfile');
            const mobileUserAvatar = document.getElementById('mobileUserAvatar');
            const mobileUsernameDisplay = document.getElementById('mobileUsernameDisplay');
            
            // Sidebar elements (PC)
            const serverHeader = document.getElementById('serverHeader');
            const serverDropdown = document.getElementById('serverDropdown');
            const serverInfoPanel = document.getElementById('serverInfoPanel');
            const channelsHeader = document.getElementById('channelsHeader');
            const channelsDropdown = document.getElementById('channelsDropdown');
            const channelsList = document.getElementById('channelsList');
            const voiceChannelsHeader = document.getElementById('voiceChannelsHeader');
            const voiceChannelsDropdown = document.getElementById('voiceChannelsDropdown');
            const voiceChannelsList = document.getElementById('voiceChannelsList');
            const userProfile = document.getElementById('userProfile');
            const userModal = document.getElementById('userModal');
            const userAvatar = document.getElementById('userAvatar');
            const userModalAvatar = document.getElementById('userModalAvatar');
            const userModalName = document.getElementById('userModalName');
            const userModalTag = document.getElementById('userModalTag');
            
            // Chat control buttons
            const pinMessagesBtn = document.getElementById('pinMessagesBtn');
            const membersListBtn = document.getElementById('membersListBtn');
            const searchBtn = document.getElementById('searchBtn');
            
            // Check if device is mobile
            const isMobile = window.innerWidth <= 768;
            
            // Mobile layout adjustment function
            function adjustMobileLayout() {
                if (window.innerWidth <= 768) {
                    // Make sure buttons don't overlap
                    const menuButton = document.getElementById('mobileMenuButton');
                    const backArrow = document.getElementById('mobileBackArrow');
                    const backToTraining = document.getElementById('backToTraining');
                    
                    if (menuButton && backArrow && backToTraining) {
                        // Ensure proper z-index stacking
                        menuButton.style.zIndex = '1003';
                        backArrow.style.zIndex = '1002';
                        backToTraining.style.zIndex = '1002';
                        
                        // Position back arrow next to menu button
                        backArrow.style.left = '60px';
                        
                        // Position back-to-training button on right side
                        backToTraining.style.left = 'auto';
                        backToTraining.style.right = '15px';
                    }
                    
                    // Ensure message input area is visible when keyboard opens
                    const messageInput = document.getElementById('messageInput');
                    if (messageInput) {
                        messageInput.addEventListener('focus', function() {
                            // Scroll to bottom when input is focused
                            setTimeout(() => {
                                const messagesContainer = document.getElementById('messagesContainer');
                                if (messagesContainer) {
                                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                                }
                            }, 300);
                        });
                    }
                }
            }
            
            // Call adjustMobileLayout on load and resize
            adjustMobileLayout();
            window.addEventListener('resize', adjustMobileLayout);
            
            // Initialize the Discord interface
            function initializeDiscordInterface() {
                // Populate text channels for both PC and mobile
                populateChannelsList(channelsList);
                populateChannelsList(mobileChannelsList);
                
                // Populate voice channels (PC only)
                if (voiceChannelsList) {
                    voiceChannelsList.innerHTML = '';
                    voiceChannels.forEach(channel => {
                        const channelItem = document.createElement('div');
                        channelItem.className = 'channel-item';
                        channelItem.dataset.channelId = channel.id;
                        
                        channelItem.innerHTML = `
                            <div class="channel-icon">
                                <i class="${channel.icon}"></i>
                            </div>
                            <div class="channel-name">${channel.name}</div>
                            <div class="channel-notification">${channel.users}</div>
                        `;
                        
                        voiceChannelsList.appendChild(channelItem);
                    });
                }
                
                // PC sidebar functionality
                if (serverHeader) {
                    serverHeader.addEventListener('click', () => {
                        if (serverInfoPanel && serverDropdown) {
                            serverInfoPanel.classList.toggle('show');
                            serverDropdown.classList.toggle('open');
                        }
                    });
                }
                
                if (channelsHeader && channelsList && channelsDropdown) {
                    channelsHeader.addEventListener('click', () => {
                        const isHidden = channelsList.style.display === 'none';
                        channelsList.style.display = isHidden ? 'block' : 'none';
                        channelsDropdown.classList.toggle('open');
                    });
                }
                
                if (voiceChannelsHeader && voiceChannelsList && voiceChannelsDropdown) {
                    voiceChannelsHeader.addEventListener('click', () => {
                        const isHidden = voiceChannelsList.style.display === 'none';
                        voiceChannelsList.style.display = isHidden ? 'block' : 'none';
                        voiceChannelsDropdown.classList.toggle('open');
                    });
                }
                
                // Mobile sidebar functionality
                if (mobileServerHeader) {
                    mobileServerHeader.addEventListener('click', () => {
                        if (mobileServerInfoPanel && mobileServerDropdown) {
                            mobileServerInfoPanel.classList.toggle('show');
                            mobileServerDropdown.classList.toggle('open');
                        }
                    });
                }
                
                if (mobileChannelsHeader && mobileChannelsList && mobileChannelsDropdown) {
                    mobileChannelsHeader.addEventListener('click', () => {
                        const isHidden = mobileChannelsList.style.display === 'none';
                        mobileChannelsList.style.display = isHidden ? 'block' : 'none';
                        mobileChannelsDropdown.classList.toggle('open');
                    });
                }
                
                // Mobile menu toggle
                if (mobileMenuButton) {
                    mobileMenuButton.addEventListener('click', () => {
                        mobileSidebar.classList.add('active');
                        mobileOverlay.classList.add('active');
                    });
                }
                
                // Mobile back arrow
                if (mobileBackArrow) {
                    mobileBackArrow.addEventListener('click', () => {
                        mobileSidebar.classList.add('active');
                        mobileOverlay.classList.add('active');
                    });
                }
                
                // Close mobile sidebar when clicking overlay
                if (mobileOverlay) {
                    mobileOverlay.addEventListener('click', () => {
                        mobileSidebar.classList.remove('active');
                        mobileOverlay.classList.remove('active');
                    });
                }
                
                // Close mobile sidebar when clicking a channel
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.channel-item')) {
                        mobileSidebar.classList.remove('active');
                        mobileOverlay.classList.remove('active');
                    }
                });
                
                // User profile modal (PC)
                if (userProfile && userModal) {
                    userProfile.addEventListener('click', (e) => {
                        e.stopPropagation();
                        userModal.classList.toggle('active');
                    });
                    
                    // Close modal when clicking outside
                    document.addEventListener('click', (e) => {
                        if (userModal && !userModal.contains(e.target) && userProfile && !userProfile.contains(e.target)) {
                            userModal.classList.remove('active');
                        }
                    });
                }
                
                // User profile modal (mobile)
                if (mobileUserProfile) {
                    mobileUserProfile.addEventListener('click', () => {
                        // For mobile, we'll just show a simple alert or could implement a mobile-specific modal
                        showNotification("User profile would open here on mobile.");
                    });
                }
                
                // Chat control buttons
                if (pinMessagesBtn) {
                    pinMessagesBtn.addEventListener('click', () => {
                        showNotification("Pinned messages would open here in a real Discord client.");
                    });
                }
                
                if (membersListBtn) {
                    membersListBtn.addEventListener('click', () => {
                        showNotification("Member list would open here in a real Discord client.");
                    });
                }
                
                if (searchBtn) {
                    searchBtn.addEventListener('click', () => {
                        showNotification("Search function would open here in a real Discord client.");
                    });
                }
                
                // Set initial channel info
                updateChannelInfo(1);
            }
            
            // Populate channels list
            function populateChannelsList(container) {
                if (!container) return;
                
                container.innerHTML = '';
                textChannels.forEach(channel => {
                    const channelItem = document.createElement('div');
                    channelItem.className = `channel-item ${channel.id === 1 ? 'active' : ''} ${channel.unread ? 'unread' : ''}`;
                    channelItem.dataset.channelId = channel.id;
                    channelItem.dataset.channelName = channel.name;
                    channelItem.dataset.channelTopic = channel.topic;
                    
                    channelItem.innerHTML = `
                        <div class="channel-icon">
                            <i class="${channel.icon}"></i>
                        </div>
                        <div class="channel-name">${channel.name}</div>
                        ${channel.notifications > 0 ? `<div class="channel-notification">${channel.notifications}</div>` : ''}
                    `;
                    
                    channelItem.addEventListener('click', () => switchChannel(channel.id));
                    container.appendChild(channelItem);
                });
            }
            
            // Switch to a different channel
            function switchChannel(channelId) {
                // Update active channel in sidebar (both PC and mobile)
                document.querySelectorAll('.channel-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                const activeChannel = document.querySelector(`.channel-item[data-channel-id="${channelId}"]`);
                if (activeChannel) activeChannel.classList.add('active');
                
                // Update channel info in header
                const channel = textChannels.find(c => c.id === channelId);
                if (channel) {
                    updateChannelInfo(channelId);
                    
                    // If switching away from training-test during test, show warning
                    if (channelId !== 1 && testActive) {
                        showNotification("You're currently in a test. Please stay in #training-test to complete it.");
                    }
                }
            }
            
            // Update channel information in header
            function updateChannelInfo(channelId) {
                const channel = textChannels.find(c => c.id === channelId);
                if (channel) {
                    if (activeChannelName) activeChannelName.textContent = channel.name;
                    if (channelTopic) channelTopic.textContent = channel.topic;
                    
                    // Update online count based on channel
                    let count = 3; // Base count for training-test
                    if (channelId === 2) count = 8; // how-to-join-roster
                    else if (channelId === 3) count = 24; // general
                    else if (channelId === 5) count = 6; // mod-chat
                    
                    if (onlineCount) onlineCount.textContent = count;
                }
            }
            
            // Show notification
            function showNotification(message) {
                if (!testMessagesContainer) return;
                
                // Create notification element
                const notification = document.createElement('div');
                notification.className = 'message';
                notification.style.animation = 'messageAppear 0.3s ease';
                
                notification.innerHTML = `
                    <div class="message-avatar" style="background-color: #faa81a;">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-header">
                            <div class="message-username">System</div>
                            <div class="message-timestamp">Just now</div>
                        </div>
                        <div class="message-text">${message}</div>
                    </div>
                `;
                
                testMessagesContainer.appendChild(notification);
                testMessagesContainer.scrollTop = testMessagesContainer.scrollHeight;
            }
            
            // Back to training button
            if (backToTrainingBtn) {
                backToTrainingBtn.addEventListener('click', function() {
                    const testPage = document.getElementById('testPage');
                    const mainContainer = document.getElementById('mainContainer');
                    if (testPage) testPage.style.display = 'none';
                    if (mainContainer) mainContainer.style.display = 'block';
                    resetTest();
                });
            }
            
            if (testBackToTrainingBtn) {
                testBackToTrainingBtn.addEventListener('click', function() {
                    const testPage = document.getElementById('testPage');
                    const mainContainer = document.getElementById('mainContainer');
                    if (testPage) testPage.style.display = 'none';
                    if (mainContainer) mainContainer.style.display = 'block';
                    resetTest();
                });
            }
            
            // Start test with username button
            const startTestWithUsernameBtn = document.getElementById('startTestWithUsername');
            if (startTestWithUsernameBtn) {
                startTestWithUsernameBtn.addEventListener('click', function() {
                    const discordUsernameInput = document.getElementById('discordUsername');
                    if (!discordUsernameInput) return;
                    
                    const discordUsername = discordUsernameInput.value.trim();
                    if (!discordUsername) {
                        alert('Please enter your Discord username to continue.');
                        return;
                    }
                    
                    // Store the username
                    userDiscordUsername = discordUsername;
                    
                    // Update the display for both PC and mobile
                    const usernameDisplay = document.getElementById('usernameDisplay');
                    const userModalNameElem = document.getElementById('userModalName');
                    const userModalTagElem = document.getElementById('userModalTag');
                    const mobileUsernameDisplayElem = document.getElementById('mobileUsernameDisplay');
                    
                    if (usernameDisplay) usernameDisplay.textContent = discordUsername.split('#')[0];
                    if (userModalNameElem) userModalNameElem.textContent = discordUsername.split('#')[0];
                    if (userModalTagElem) userModalTagElem.textContent = discordUsername;
                    if (mobileUsernameDisplayElem) mobileUsernameDisplayElem.textContent = discordUsername.split('#')[0];
                    
                    // Set avatar initials
                    const initials = discordUsername.split('#')[0].charAt(0).toUpperCase();
                    if (userAvatar) userAvatar.textContent = initials;
                    if (userModalAvatar) userModalAvatar.textContent = initials;
                    if (mobileUserAvatar) mobileUserAvatar.textContent = initials;
                    
                    // Hide modal and show test page
                    const usernameModal = document.getElementById('usernameModal');
                    const mainContainer = document.getElementById('mainContainer');
                    const testPage = document.getElementById('testPage');
                    
                    if (usernameModal) usernameModal.classList.remove('active');
                    if (mainContainer) mainContainer.style.display = 'none';
                    if (testPage) testPage.style.display = 'block';
                    
                    // Initialize Discord interface
                    initializeDiscordInterface();
                    
                    // Show/hide mobile elements based on device
                    if (isMobile) {
                        if (mobileMenuButton) mobileMenuButton.style.display = 'block';
                        if (mobileBackArrow) mobileBackArrow.style.display = 'block';
                        if (document.querySelector('.discord-sidebar')) document.querySelector('.discord-sidebar').style.display = 'none';
                    } else {
                        if (mobileMenuButton) mobileMenuButton.style.display = 'none';
                        if (mobileBackArrow) mobileBackArrow.style.display = 'none';
                        if (document.querySelector('.discord-sidebar')) document.querySelector('.discord-sidebar').style.display = 'flex';
                    }
                    
                    // Start the test
                    setTimeout(() => {
                        startTest();
                    }, 1000);
                });
            }
            
            // Auto-resize textarea
            if (testMessageInput) {
                testMessageInput.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = (this.scrollHeight) + 'px';
                });
            }
            
            // Send message on Enter (without Shift)
            if (testMessageInput) {
                testMessageInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendTestMessage();
                    }
                });
            }
            
            // Send message on button click
            if (testSendButton) {
                testSendButton.addEventListener('click', sendTestMessage);
            }
            
            // Retake test button
            if (testReviewTestBtn) {
                testReviewTestBtn.addEventListener('click', function() {
                    resetTest();
                    if (testCompleteScreen) testCompleteScreen.classList.remove('active');
                    if (testChatArea) testChatArea.style.display = 'flex';
                    setTimeout(() => {
                        startTest();
                    }, 500);
                });
            }
            
            // Function to start the test
            function startTest() {
                // Get random questions
                testQuestions = getRandomTestQuestions();
                testTotalQuestions = testQuestions.length;
                
                testActive = true;
                testCurrentQuestion = 0;
                testScore = 0;
                userAnswers = [];
                correctAnswers = [];
                updateTestScore();
                updateTestStatus();
                updateTestProgressBar();
                
                // Clear previous messages (keep only initial bot messages)
                if (testMessagesContainer) {
                    const initialMessages = testMessagesContainer.querySelectorAll('.message');
                    for (let i = 2; i < initialMessages.length; i++) {
                        initialMessages[i].remove();
                    }
                }
                
                // Update user stats
                if (statTickets) statTickets.textContent = Math.floor(Math.random() * 5) + 1;
                if (statScore) statScore.textContent = "0%";
                
                // Start with first question
                setTimeout(() => {
                    showNextTestQuestion();
                }, 2000);
            }
            
            // Function to reset the test
            function resetTest() {
                testActive = false;
                testCurrentQuestion = 0;
                testScore = 0;
                userAnswers = [];
                correctAnswers = [];
                updateTestScore();
                updateTestStatus();
                updateTestProgressBar();
                
                // Clear input
                if (testMessageInput) {
                    testMessageInput.value = '';
                    testMessageInput.style.height = 'auto';
                    testMessageInput.disabled = true;
                }
                if (testSendButton) testSendButton.disabled = true;
            }
            
            // Function to show the next question from the bot
            function showNextTestQuestion() {
                if (testCurrentQuestion >= testTotalQuestions) {
                    endTest();
                    return;
                }
                
                // Show typing indicator
                if (testTypingIndicator) testTypingIndicator.style.display = 'flex';
                
                // Wait 1-2 seconds to simulate typing
                setTimeout(() => {
                    if (testTypingIndicator) testTypingIndicator.style.display = 'none';
                    
                    // Add the user's message
                    const question = testQuestions[testCurrentQuestion];
                    addTestMessage(question.user, question.userMessage, question.avatarColor, false);
                    
                    // Enable input for user response
                    if (testMessageInput) {
                        testMessageInput.disabled = false;
                        testMessageInput.focus();
                    }
                    if (testSendButton) testSendButton.disabled = false;
                    
                    // Update status
                    updateTestStatus();
                    updateTestProgressBar();
                }, 1500 + Math.random() * 1000);
            }
            
            // Function to send user's message
            function sendTestMessage() {
                if (!testMessageInput || !testActive) return;
                
                const userMessage = testMessageInput.value.trim();
                if (!userMessage) return;
                
                // Add user's message to chat
                addTestMessage("You", userMessage, "#5865f2", true);
                
                // Store the answer
                userAnswers.push(userMessage);
                
                // Clear input
                testMessageInput.value = '';
                testMessageInput.style.height = 'auto';
                
                // Check if answer is correct
                const isCorrect = checkTestAnswer(userMessage);
                correctAnswers.push(isCorrect);
                
                // Disable input while bot "types"
                testMessageInput.disabled = true;
                if (testSendButton) testSendButton.disabled = true;
                
                // Move to next question after delay
                setTimeout(() => {
                    testCurrentQuestion++;
                    showNextTestQuestion();
                }, 1000);
            }
            
            // Enhanced function to check if answer is correct with comprehensive keyword matching
            function checkTestAnswer(userAnswer) {
                const question = testQuestions[testCurrentQuestion];
                const userAnswerLower = userAnswer.toLowerCase();
                
                // Count matching keywords
                let matchCount = 0;
                for (let keyword of question.correctKeywords) {
                    if (userAnswerLower.includes(keyword.toLowerCase())) {
                        matchCount++;
                    }
                }
                
                // Check if we have enough matches
                const isCorrect = matchCount >= question.requiredMatches;
                
                // Update score if correct
                if (isCorrect) {
                    testScore++;
                    updateTestScore();
                    updateTestProgressBar();
                    
                    // Add correct badge to last user message
                    const lastMessage = testMessagesContainer.lastElementChild;
                    if (lastMessage && lastMessage.classList.contains('message')) {
                        lastMessage.classList.add('correct');
                        
                        const messageText = lastMessage.querySelector('.message-text');
                        if (messageText) {
                            const badge = document.createElement('span');
                            badge.className = 'feedback-badge correct-badge';
                            badge.textContent = 'Correct';
                            messageText.appendChild(badge);
                            
                            // Add explanation tooltip
                            const tooltip = document.createElement('div');
                            tooltip.className = 'correction-note';
                            tooltip.style.marginTop = '10px';
                            tooltip.style.fontSize = '0.85rem';
                            tooltip.innerHTML = `<strong>Note:</strong> ${question.explanation}`;
                            messageText.appendChild(tooltip);
                        }
                    }
                } else {
                    // Add incorrect badge to last user message
                    const lastMessage = testMessagesContainer.lastElementChild;
                    if (lastMessage && lastMessage.classList.contains('message')) {
                        lastMessage.classList.add('incorrect');
                        
                        const messageText = lastMessage.querySelector('.message-text');
                        if (messageText) {
                            const badge = document.createElement('span');
                            badge.className = 'feedback-badge incorrect-badge';
                            badge.textContent = 'Incorrect';
                            messageText.appendChild(badge);
                            
                            // Add explanation tooltip
                            const tooltip = document.createElement('div');
                            tooltip.className = 'correction-note';
                            tooltip.style.marginTop = '10px';
                            tooltip.style.fontSize = '0.85rem';
                            tooltip.innerHTML = `<strong>Expected:</strong> ${question.explanation}<br><strong>Matched Keywords:</strong> ${matchCount}/${question.requiredMatches}`;
                            messageText.appendChild(tooltip);
                        }
                    }
                }
                
                return isCorrect;
            }
            
            // Function to add a message to the chat
            function addTestMessage(username, text, avatarColor, isUser = false) {
                if (!testMessagesContainer) return;
                
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message';
                
                // Get current time for timestamp
                const now = new Date();
                const timeString = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                // Create avatar initials
                let avatarInitials = username.charAt(0).toUpperCase();
                if (username === "Nicks Cold") avatarInitials = "NC";
                if (username === "You") avatarInitials = userDiscordUsername.split('#')[0].charAt(0).toUpperCase();
                
                messageDiv.innerHTML = `
                    <div class="message-avatar" style="background-color: ${avatarColor};">${avatarInitials}</div>
                    <div class="message-content">
                        <div class="message-header">
                            <div class="message-username">${username}</div>
                            ${username === "Void Bot" ? '<span class="message-bot-tag">BOT</span>' : ''}
                            <div class="message-timestamp">Today at ${timeString}</div>
                        </div>
                        <div class="message-text">${text}</div>
                    </div>
                `;
                
                testMessagesContainer.appendChild(messageDiv);
                
                // Scroll to bottom
                testMessagesContainer.scrollTop = testMessagesContainer.scrollHeight;
            }
            
            // Function to update score display
            function updateTestScore() {
                if (testScoreValue) testScoreValue.textContent = testScore;
                if (mobileScoreValue) mobileScoreValue.textContent = testScore;
                updateTestStatus();
                
                // Update user stats
                if (statScore) {
                    const percentage = Math.round((testScore / testTotalQuestions) * 100);
                    statScore.textContent = `${percentage}%`;
                }
            }
            
            // Function to update progress bar
            function updateTestProgressBar() {
                const percentage = (testCurrentQuestion / testTotalQuestions) * 100;
                
                if (progressFillTest) progressFillTest.style.width = `${percentage}%`;
                if (mobileProgressFillTest) mobileProgressFillTest.style.width = `${percentage}%`;
            }
            
            // Function to update status indicator
            function updateTestStatus() {
                const percentage = (testCurrentQuestion / testTotalQuestions) * 100;
                
                if (testCurrentQuestion >= testTotalQuestions) {
                    if (testStatusText) testStatusText.textContent = "Test Complete";
                    if (testStatusDot) testStatusDot.style.backgroundColor = "#3ba55c";
                    if (mobileStatusText) mobileStatusText.textContent = "Test Complete";
                    if (mobileStatusDot) mobileStatusDot.style.backgroundColor = "#3ba55c";
                } else {
                    if (testStatusText) testStatusText.textContent = `Question ${testCurrentQuestion + 1} of ${testTotalQuestions}`;
                    if (mobileStatusText) mobileStatusText.textContent = `Question ${testCurrentQuestion + 1} of ${testTotalQuestions}`;
                    
                    // Change dot color based on progress
                    if (testStatusDot) {
                        if (percentage < 33) {
                            testStatusDot.style.backgroundColor = "#ed4245";
                        } else if (percentage < 66) {
                            testStatusDot.style.backgroundColor = "#faa81a";
                        } else {
                            testStatusDot.style.backgroundColor = "#3ba55c";
                        }
                    }
                    
                    if (mobileStatusDot) {
                        if (percentage < 33) {
                            mobileStatusDot.style.backgroundColor = "#ed4245";
                        } else if (percentage < 66) {
                            mobileStatusDot.style.backgroundColor = "#faa81a";
                        } else {
                            mobileStatusDot.style.backgroundColor = "#3ba55c";
                        }
                    }
                }
            }
            
            // Function to send results via email
            function sendResultsToEmail() {
                // Create question breakdown text
                let questionBreakdown = "";
                for (let i = 0; i < testTotalQuestions; i++) {
                    const question = testQuestions[i];
                    const userAnswer = userAnswers[i] || "No answer";
                    const isCorrect = correctAnswers[i] ? "✓ CORRECT" : "✗ INCORRECT";
                    
                    questionBreakdown += `${i+1}. ${question.user}: "${question.userMessage}"\n`;
                    questionBreakdown += `   Trainee Answer: "${userAnswer}"\n`;
                    questionBreakdown += `   ${isCorrect}\n\n`;
                }
                
                // Get current date
                const now = new Date();
                const testDate = now.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                // Calculate pass/fail
                const passingScore = testTotalQuestions - 2; // Need at least 6 out of 8
                const passed = testScore >= passingScore;
                const passFail = passed ? "PASS" : "FAIL";
                
                // Populate form fields
                const formDiscordUsername = document.getElementById('formDiscordUsername');
                const formTestDate = document.getElementById('formTestDate');
                const formFinalScore = document.getElementById('formFinalScore');
                const formPassFail = document.getElementById('formPassFail');
                const formQuestionBreakdown = document.getElementById('formQuestionBreakdown');
                const formTotalQuestions = document.getElementById('formTotalQuestions');
                
                if (formDiscordUsername) formDiscordUsername.value = userDiscordUsername;
                if (formTestDate) formTestDate.value = testDate;
                if (formFinalScore) formFinalScore.value = `${testScore}/${testTotalQuestions}`;
                if (formPassFail) formPassFail.value = passFail;
                if (formQuestionBreakdown) formQuestionBreakdown.value = questionBreakdown;
                if (formTotalQuestions) formTotalQuestions.value = testTotalQuestions;
                
                // Submit the form
                const form = document.getElementById('resultsForm');
                if (form) {
                    form.submit();
                    return true;
                }
                return false;
            }
            
            // Function to end the test and show results
            function endTest() {
                testActive = false;
                
                // Add final message
                setTimeout(() => {
                    addTestMessage("Void Bot", "Test complete! Your responses have been evaluated. Check your score in the sidebar.", "#5865f2", false);
                    
                    // Show test complete screen after delay
                    setTimeout(() => {
                        if (testChatArea) testChatArea.style.display = 'none';
                        if (testCompleteScreen) testCompleteScreen.classList.add('active');
                        
                        // Calculate result
                        const passingScore = testTotalQuestions - 2; // Need to get at least 6 out of 8
                        const passed = testScore >= passingScore;
                        
                        // Update result screen
                        if (testResultScore) testResultScore.textContent = `Score: ${testScore}/${testTotalQuestions}`;
                        
                        if (passed) {
                            if (testResultTitle) testResultTitle.textContent = "Test Passed!";
                            if (testResultMessage) testResultMessage.textContent = `Congratulations! You passed the mod certification test with a score of ${testScore}/${testTotalQuestions}. You demonstrated knowledge of proper ticket handling procedures.`;
                            if (testResultIcon) {
                                testResultIcon.innerHTML = '<i class="fas fa-trophy"></i>';
                                testResultIcon.className = "test-result-icon test-result-pass";
                            }
                        } else {
                            if (testResultTitle) testResultTitle.textContent = "Test Failed";
                            if (testResultMessage) testResultMessage.textContent = `You scored ${testScore}/${testTotalQuestions}. You need at least ${passingScore} correct answers to pass. Review the training material and try again.`;
                            if (testResultIcon) {
                                testResultIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
                                testResultIcon.className = "test-result-icon test-result-fail";
                            }
                        }
                        
                        // Send results to email
                        setTimeout(() => {
                            if (submissionStatus) {
                                submissionStatus.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting your results to Void Esports staff...';
                                
                                setTimeout(() => {
                                    try {
                                        const sent = sendResultsToEmail();
                                        if (sent) {
                                            submissionStatus.innerHTML = '<i class="fas fa-check-circle"></i> Results submitted successfully! The Void Esports staff will review your performance.';
                                            submissionStatus.className = "submission-status submission-success";
                                        } else {
                                            submissionStatus.innerHTML = '<i class="fas fa-exclamation-circle"></i> Results submission failed. Please try again.';
                                            submissionStatus.className = "submission-status submission-error";
                                        }
                                    } catch (error) {
                                        submissionStatus.innerHTML = '<i class="fas fa-exclamation-circle"></i> Error submitting results. Please contact staff.';
                                        submissionStatus.className = "submission-status submission-error";
                                    }
                                }, 1500);
                            }
                        }, 1000);
                    }, 1500);
                }, 1000);
            }
        });
    </script>
</body>
</html>
